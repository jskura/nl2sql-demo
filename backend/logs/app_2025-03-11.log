2025-03-11 14:22:24,143 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 14:22:24,144 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:22:24,151 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [14606]
2025-03-11 14:22:24,151 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:22:24,151 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:22:25,394 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:22:25,394 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:22:25,394 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 14:22:25,395 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-11 14:22:25,395 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-11 14:22:25,396 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 14:22:25,460 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-11 14:22:25,665 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 14:22:25,781 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-11 14:22:26,273 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:22:26,274 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 879.76ms
2025-03-11 14:22:26,274 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:22:26,274 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 880.17ms
2025-03-11 14:22:26,274 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:22:26,274 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 880.56ms
2025-03-11 14:22:26,275 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:22:26,276 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56528 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:22:26,277 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:22:26,277 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:22:26,277 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 14:22:26,535 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:22:26,535 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 258.14ms
2025-03-11 14:22:26,535 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:22:26,535 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 258.48ms
2025-03-11 14:22:26,535 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:22:26,536 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 258.70ms
2025-03-11 14:22:26,536 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:22:26,536 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56534 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:22:30,854 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: basic
2025-03-11 14:22:30,854 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-11 14:22:30,855 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 14:22:31,151 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:22:31,180 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 325.10ms
2025-03-11 14:22:31,180 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:22:31,180 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 326.09ms
2025-03-11 14:22:31,181 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:22:31,181 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 327.10ms
2025-03-11 14:22:31,182 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:22:31,182 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56549 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:22:36,968 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56562 - "OPTIONS /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:22:36,971 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:161 - Basic NL2SQL request for table: accident
2025-03-11 14:22:36,972 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:163 - Question: count accidents
2025-03-11 14:22:36,972 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-11 14:22:36,972 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 14:22:37,249 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:22:37,251 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 278.68ms
2025-03-11 14:22:37,251 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:22:37,251 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 279.31ms
2025-03-11 14:22:37,251 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: basic
2025-03-11 14:22:37,251 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 14:22:37,947 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:22:38,247 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/8721259b-479a-4f98-b9f4-de91163c0fad?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:22:38,500 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/8721259b-479a-4f98-b9f4-de91163c0fad?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:22:38,504 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1252.43ms
2025-03-11 14:22:38,504 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 14:22:38,504 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1252.86ms
2025-03-11 14:22:38,504 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:200 - Generating basic SQL for question: count accidents
2025-03-11 14:22:38,504 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.07ms
2025-03-11 14:22:38,504 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:229 - Basic SQL generation prompt: 
        You are an expert SQL query generator. Your task is to convert natural language questions into SQL queries.
        
        Table Schema:
        Table Name: accident
Description: ===AI generated===
This dataset contains information about car crashes in the United States, ranging from 1980 to 2015. It encompasses a wide range of details related to each accident, including location (state, county, city, latitude, longitude), time (year, month, day, hour, minute), environmental condition...
2025-03-11 14:22:39,449 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 14:22:39,454 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-11 14:22:39,537 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 14:22:42,389 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3884.68ms
2025-03-11 14:22:42,391 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:73 - Raw response from Vertex AI:         SQL: ```sql
SELECT
    count(*)
  FROM
    `accident`

```
        Explanation: This SQL query counts the total number of rows in the `accident` table, which represents the total number of accidents recorded in the dataset. It uses the `COUNT(*)` function to count all rows, regardless of any null values. 

2025-03-11 14:22:42,391 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3886.28ms
2025-03-11 14:22:42,391 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:234 - Basic SQL generation response:         SQL: ```sql
SELECT
    count(*)
  FROM
    `accident`

```
        Explanation: This SQL query counts the total number of rows in the `accident` table, which represents the total number of accidents recorded in the dataset. It uses the `COUNT(*)` function to count all rows, regardless of any null values. 

2025-03-11 14:22:42,391 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_basic_sql executed in 3887.03ms
2025-03-11 14:22:42,391 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: count accidents...
2025-03-11 14:22:42,391 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:186 - Generated SQL query with length 53
2025-03-11 14:22:42,392 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.basic_nl2sql executed in 5420.17ms
2025-03-11 14:22:42,393 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/basic
2025-03-11 14:22:42,394 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56562 - "POST /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:22:50,866 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56578 - "OPTIONS /api/execute?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:22:50,870 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:132 - Executing SQL query in demo phase: basic
2025-03-11 14:22:50,871 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:133 - SQL query: ```sql
SELECT
    count(*)
  FROM
    `accident`

```
2025-03-11 14:22:50,871 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:325 - Executing SQL query in demo phase: basic
2025-03-11 14:22:50,872 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:326 - SQL query: ```sql
SELECT
    count(*)
  FROM
    `accident`

```
2025-03-11 14:22:50,872 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 14:22:50,872 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:364 - Executing query with qualified table names: ```sql
SELECT
    count(*)
  FROM
    `accident`

```
2025-03-11 14:22:51,612 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:22:51,614 - app.utils.performance - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:99 - Operation 'bigquery_execute_sql' failed after 741.56ms
2025-03-11 14:22:51,614 - app.services.bigquery_service - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:393 - Error executing SQL query: 400 Syntax error: Unexpected identifier `` at [1:1]

Location: US
Job ID: fef30d54-ac97-4e1a-b600-48072a980056
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py", line 367, in execute_sql
    results = query_job.result()
              ^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/cloud/bigquery/job/query.py", line 1580, in result
    do_get_result()
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
           ^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target
    result = target()
             ^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/cloud/bigquery/job/query.py", line 1570, in do_get_result
    super(QueryJob, self).result(retry=retry, timeout=timeout)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/cloud/bigquery/job/base.py", line 922, in result
    return super(_AsyncJob, self).result(timeout=timeout, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/api_core/future/polling.py", line 261, in result
    raise self._exception
google.api_core.exceptions.BadRequest: 400 Syntax error: Unexpected identifier `` at [1:1]

Location: US
Job ID: fef30d54-ac97-4e1a-b600-48072a980056

2025-03-11 14:22:51,620 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.execute_sql executed in 749.07ms
2025-03-11 14:22:51,620 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.execute_sql_query executed in 749.46ms
2025-03-11 14:22:51,620 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/execute
2025-03-11 14:22:51,620 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56578 - "POST /api/execute?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:23:10,838 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:23:10,839 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:23:10,839 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 14:23:11,148 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:23:11,150 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 310.59ms
2025-03-11 14:23:11,150 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:23:11,150 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 311.38ms
2025-03-11 14:23:11,150 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:23:11,150 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 312.53ms
2025-03-11 14:23:11,151 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:23:11,151 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56595 - "GET /api/tables HTTP/1.1" 200
2025-03-11 14:23:36,211 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:23:36,213 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:23:36,213 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 14:23:36,481 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:23:36,482 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 269.26ms
2025-03-11 14:23:36,482 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:23:36,482 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 269.82ms
2025-03-11 14:23:36,482 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:23:36,482 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 271.57ms
2025-03-11 14:23:36,483 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:23:36,483 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56631 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:23:36,485 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:23:36,485 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:23:36,485 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 14:23:36,873 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:23:36,885 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 400.01ms
2025-03-11 14:23:36,885 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:23:36,885 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 400.40ms
2025-03-11 14:23:36,885 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:23:36,885 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 400.62ms
2025-03-11 14:23:36,886 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:23:36,886 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56631 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:23:39,038 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 14:23:39,048 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:23:39,048 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 14:23:39,389 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:23:39,425 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 377.43ms
2025-03-11 14:23:39,426 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:23:39,427 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 381.69ms
2025-03-11 14:23:39,427 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:23:39,427 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 391.43ms
2025-03-11 14:23:39,437 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:23:39,442 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56640 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:23:51,023 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56649 - "OPTIONS /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:23:51,036 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:206 - Enhanced NL2SQL request for table: accident
2025-03-11 14:23:51,036 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:208 - Question: count accidents
2025-03-11 14:23:51,036 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:23:51,036 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 14:23:51,302 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:23:51,304 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 267.75ms
2025-03-11 14:23:51,304 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:23:51,304 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 268.21ms
2025-03-11 14:23:51,304 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 14:23:51,304 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 14:23:51,804 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:23:52,093 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/98665951-adb1-40e4-a2dd-798d14c09d12?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:23:52,344 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/98665951-adb1-40e4-a2dd-798d14c09d12?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:23:52,347 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1042.09ms
2025-03-11 14:23:52,347 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 14:23:52,347 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1042.41ms
2025-03-11 14:23:52,347 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:289 - Generating enhanced SQL for question: count accidents
2025-03-11 14:23:53,581 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.05ms
2025-03-11 14:23:53,582 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:493 - Running LangGraph agent for enhanced SQL generation
2025-03-11 14:23:55,347 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 1760.03ms
2025-03-11 14:23:55,347 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:73 - Raw response from Vertex AI: SQL: ```sql
SELECT COUNT(*) FROM accident;
```
Explanation: This query counts the total number of rows in the `accident` table, which directly corresponds to the total number of accidents recorded. 

2025-03-11 14:23:56,542 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 1194.10ms
2025-03-11 14:23:56,543 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:73 - Raw response from Vertex AI: Correct: Yes
Issues: None
Suggestions: None 

2025-03-11 14:23:56,545 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 4197.80ms
2025-03-11 14:23:56,545 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: count accidents...
2025-03-11 14:23:56,545 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:236 - Generated SQL query with length 41
2025-03-11 14:23:56,545 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 5509.20ms
2025-03-11 14:23:56,545 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 14:23:56,546 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56649 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:26:26,642 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 14:26:26,745 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 14:26:26,747 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 14:26:26,747 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [14606]
2025-03-11 14:26:32,499 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 14:26:32,500 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:26:32,508 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [18415]
2025-03-11 14:26:32,508 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:26:32,509 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:26:40,887 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 14:26:40,989 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 14:26:40,990 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 14:26:40,990 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [18415]
2025-03-11 14:26:45,054 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 14:26:45,055 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:26:45,063 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [18450]
2025-03-11 14:26:45,064 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:26:45,064 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:26:57,827 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 14:26:57,929 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 14:26:57,929 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 14:26:57,929 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [18450]
2025-03-11 14:27:01,389 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 14:27:01,389 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:27:01,397 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [18909]
2025-03-11 14:27:01,397 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:27:01,397 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:33:10,150 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 14:33:10,264 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 14:33:10,273 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 14:33:10,274 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [18909]
2025-03-11 14:33:14,921 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 14:33:14,921 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:33:14,928 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [23582]
2025-03-11 14:33:14,928 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:33:14,928 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:33:24,125 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 14:33:24,228 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 14:33:24,229 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 14:33:24,229 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [23582]
2025-03-11 14:40:41,841 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 14:40:41,842 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:40:41,851 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [29155]
2025-03-11 14:40:41,851 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:40:41,851 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:40:43,196 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:40:43,196 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:40:43,196 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 14:40:43,197 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-11 14:40:43,197 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-11 14:40:43,198 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 14:40:43,264 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-11 14:40:43,405 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 14:40:43,454 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-11 14:40:43,831 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:40:43,832 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 635.09ms
2025-03-11 14:40:43,832 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:40:43,832 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 635.66ms
2025-03-11 14:40:43,832 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:40:43,832 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 635.96ms
2025-03-11 14:40:43,833 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:40:43,833 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57755 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:40:43,835 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:40:43,835 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:40:43,835 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 14:40:44,127 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:40:44,127 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 292.52ms
2025-03-11 14:40:44,128 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:40:44,128 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 292.89ms
2025-03-11 14:40:44,128 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:40:44,128 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 293.12ms
2025-03-11 14:40:44,128 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:40:44,128 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57755 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:40:45,868 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 14:40:45,869 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:40:45,869 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 14:40:46,220 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 14:40:46,223 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 353.88ms
2025-03-11 14:40:46,223 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:40:46,223 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 354.76ms
2025-03-11 14:40:46,223 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:40:46,224 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 355.37ms
2025-03-11 14:40:46,224 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:40:46,224 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57755 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:40:51,068 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 14:40:51,169 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 14:40:51,169 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 14:40:51,169 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [29155]
2025-03-11 14:41:25,123 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:41:25,132 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [30085]
2025-03-11 14:41:25,133 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:41:25,133 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:41:32,041 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:41:32,041 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:41:32,509 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 466.74ms
2025-03-11 14:41:32,509 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:41:32,510 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 468.25ms
2025-03-11 14:41:32,510 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:41:32,510 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 469.52ms
2025-03-11 14:41:32,511 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:41:32,511 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57824 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:41:32,513 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:41:32,513 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:41:32,865 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 352.00ms
2025-03-11 14:41:32,867 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:41:32,867 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 354.15ms
2025-03-11 14:41:32,868 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:41:32,869 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 355.30ms
2025-03-11 14:41:32,870 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:41:32,871 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57829 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:41:33,234 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:41:33,234 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:41:33,497 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 262.25ms
2025-03-11 14:41:33,497 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:41:33,497 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 262.96ms
2025-03-11 14:41:33,497 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:41:33,497 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 263.40ms
2025-03-11 14:41:33,498 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:41:33,498 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57835 - "GET /api/tables HTTP/1.1" 200
2025-03-11 14:41:34,298 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 14:41:34,298 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:41:34,603 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 304.86ms
2025-03-11 14:41:34,603 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:41:34,603 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 305.46ms
2025-03-11 14:41:34,604 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:41:34,604 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 305.85ms
2025-03-11 14:41:34,604 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:41:34,605 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57829 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:41:43,982 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:41:43,982 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:41:44,246 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 262.68ms
2025-03-11 14:41:44,246 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:41:44,246 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 263.77ms
2025-03-11 14:41:44,246 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:41:44,246 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 264.64ms
2025-03-11 14:41:44,247 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:41:44,247 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57857 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:41:44,249 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:41:44,249 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:41:44,508 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 258.89ms
2025-03-11 14:41:44,508 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:41:44,508 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 259.32ms
2025-03-11 14:41:44,508 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:41:44,508 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 259.63ms
2025-03-11 14:41:44,509 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:41:44,509 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57857 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:41:47,231 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: basic
2025-03-11 14:41:47,231 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-11 14:41:47,517 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 285.19ms
2025-03-11 14:41:47,517 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:41:47,517 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 285.81ms
2025-03-11 14:41:47,517 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:41:47,517 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 286.09ms
2025-03-11 14:41:47,518 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:41:47,518 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57865 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:41:48,910 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:41:48,910 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:41:49,153 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 242.83ms
2025-03-11 14:41:49,153 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:41:49,153 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 243.38ms
2025-03-11 14:41:49,153 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:41:49,153 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 243.78ms
2025-03-11 14:41:49,154 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:41:49,154 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57865 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:41:49,156 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:41:49,156 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:41:49,396 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 240.15ms
2025-03-11 14:41:49,397 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:41:49,397 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 240.57ms
2025-03-11 14:41:49,397 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:41:49,397 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 240.92ms
2025-03-11 14:41:49,397 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:41:49,397 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57865 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:41:51,880 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 14:41:51,880 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:41:52,137 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 256.73ms
2025-03-11 14:41:52,138 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:41:52,138 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 257.57ms
2025-03-11 14:41:52,138 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:41:52,138 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 258.44ms
2025-03-11 14:41:52,138 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:41:52,139 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57870 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:42:05,829 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:206 - Enhanced NL2SQL request for table: accident
2025-03-11 14:42:05,830 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:42:06,134 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 303.13ms
2025-03-11 14:42:06,134 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:42:06,134 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 304.21ms
2025-03-11 14:42:06,135 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 14:42:07,348 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1213.80ms
2025-03-11 14:42:07,349 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 14:42:07,349 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1214.31ms
2025-03-11 14:42:07,349 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:289 - Generating enhanced SQL for question: How many accidents?
2025-03-11 14:42:07,751 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.05ms
2025-03-11 14:42:07,752 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:541 - Running LangGraph agent for enhanced SQL generation
2025-03-11 14:42:11,138 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3382.10ms
2025-03-11 14:42:12,941 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 1801.41ms
2025-03-11 14:42:12,945 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 5595.81ms
2025-03-11 14:42:12,945 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: How many accidents?...
2025-03-11 14:42:12,945 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:236 - Generated SQL query with length 29
2025-03-11 14:42:12,945 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 7116.17ms
2025-03-11 14:42:12,946 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 14:42:12,947 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57877 - "POST /api/nl2sql/enhanced HTTP/1.1" 200
2025-03-11 14:42:18,407 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:206 - Enhanced NL2SQL request for table: accident
2025-03-11 14:42:18,408 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:42:18,679 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 270.86ms
2025-03-11 14:42:18,679 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:42:18,679 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 271.58ms
2025-03-11 14:42:18,679 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 14:42:19,682 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1002.56ms
2025-03-11 14:42:19,682 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 14:42:19,682 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1003.00ms
2025-03-11 14:42:19,682 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:289 - Generating enhanced SQL for question: How many accidents?
2025-03-11 14:42:19,683 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.04ms
2025-03-11 14:42:19,684 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:541 - Running LangGraph agent for enhanced SQL generation
2025-03-11 14:42:23,428 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3742.07ms
2025-03-11 14:42:25,825 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 2395.42ms
2025-03-11 14:42:25,827 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 6144.91ms
2025-03-11 14:42:25,828 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: How many accidents?...
2025-03-11 14:42:25,828 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:236 - Generated SQL query with length 70
2025-03-11 14:42:25,828 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 7420.71ms
2025-03-11 14:42:25,829 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 14:42:25,829 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57892 - "POST /api/nl2sql/enhanced HTTP/1.1" 200
2025-03-11 14:42:37,612 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:161 - Basic NL2SQL request for table: accident
2025-03-11 14:42:37,614 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-11 14:42:37,917 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 303.09ms
2025-03-11 14:42:37,917 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:42:37,918 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 304.07ms
2025-03-11 14:42:37,918 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: basic
2025-03-11 14:42:38,916 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 997.96ms
2025-03-11 14:42:38,916 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 14:42:38,916 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 998.76ms
2025-03-11 14:42:38,917 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:200 - Generating basic SQL for question: How many accidents?
2025-03-11 14:42:38,917 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.05ms
2025-03-11 14:42:40,818 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 1901.38ms
2025-03-11 14:42:40,818 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 1901.65ms
2025-03-11 14:42:40,819 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_basic_sql executed in 1901.97ms
2025-03-11 14:42:40,819 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: How many accidents?...
2025-03-11 14:42:40,819 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:186 - Generated SQL query with length 56
2025-03-11 14:42:40,819 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.basic_nl2sql executed in 3207.13ms
2025-03-11 14:42:40,819 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/basic
2025-03-11 14:42:40,820 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57921 - "POST /api/nl2sql/basic HTTP/1.1" 200
2025-03-11 14:42:46,479 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:256 - Agent NL2SQL request for table: accident
2025-03-11 14:42:46,480 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: agent
2025-03-11 14:42:46,822 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 341.88ms
2025-03-11 14:42:46,822 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:42:46,822 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 342.56ms
2025-03-11 14:42:46,822 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: agent
2025-03-11 14:42:47,950 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1127.75ms
2025-03-11 14:42:47,950 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 14:42:47,950 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1128.22ms
2025-03-11 14:42:47,951 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:603 - Generating agent SQL for question: How many accidents?
2025-03-11 14:42:47,951 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.04ms
2025-03-11 14:42:47,951 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:624 - Analyzing 3 previous queries
2025-03-11 14:42:47,951 - app.services.nl2sql_service - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:903 - Error generating agent SQL: 'QueryHistoryItem' object has no attribute 'result'
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 632, in generate_agent_sql
    if query.result:
       ^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/pydantic/main.py", line 759, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'QueryHistoryItem' object has no attribute 'result'
2025-03-11 14:42:47,956 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_agent_sql executed in 5.19ms
2025-03-11 14:42:47,956 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: How many accidents?...
2025-03-11 14:42:47,956 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:291 - Generated SQL query with length 31
2025-03-11 14:42:47,956 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.agent_nl2sql executed in 1477.42ms
2025-03-11 14:42:47,957 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/agent
2025-03-11 14:42:47,957 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57929 - "POST /api/nl2sql/agent HTTP/1.1" 200
2025-03-11 14:43:13,356 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 14:43:13,459 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 14:43:13,460 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 14:43:13,461 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [30085]
2025-03-11 14:43:21,398 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:43:21,405 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [31607]
2025-03-11 14:43:21,405 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:43:21,406 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:44:11,840 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 14:44:11,946 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 14:44:11,952 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 14:44:11,955 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [31607]
2025-03-11 14:46:22,805 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:46:22,812 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [33910]
2025-03-11 14:46:22,812 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:46:22,813 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:46:33,974 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:46:33,975 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:46:34,663 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 687.32ms
2025-03-11 14:46:34,663 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:46:34,663 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 688.16ms
2025-03-11 14:46:34,663 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:46:34,663 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 689.02ms
2025-03-11 14:46:34,664 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:46:34,665 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58165 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:46:34,666 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:46:34,666 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:46:34,926 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 259.59ms
2025-03-11 14:46:34,926 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:46:34,926 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 260.03ms
2025-03-11 14:46:34,926 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:46:34,926 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 260.28ms
2025-03-11 14:46:34,927 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:46:34,927 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58165 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:46:36,325 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 14:46:36,325 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:46:36,645 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 319.83ms
2025-03-11 14:46:36,645 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:46:36,645 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 320.25ms
2025-03-11 14:46:36,645 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:46:36,645 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 320.54ms
2025-03-11 14:46:36,646 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:46:36,646 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58165 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:47:10,983 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:256 - Agent NL2SQL request for table: accident
2025-03-11 14:47:10,984 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: agent
2025-03-11 14:47:11,471 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 485.48ms
2025-03-11 14:47:11,471 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:47:11,471 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 487.68ms
2025-03-11 14:47:11,472 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: agent
2025-03-11 14:47:12,593 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1121.25ms
2025-03-11 14:47:12,593 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 14:47:12,593 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1121.90ms
2025-03-11 14:47:12,594 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:603 - Generating agent SQL for question: How many accidents?
2025-03-11 14:47:12,594 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.03ms
2025-03-11 14:47:12,594 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:799 - Running 3 parallel approaches for SQL generation
2025-03-11 14:47:12,594 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:200 - Generating basic SQL for question: How many accidents?
2025-03-11 14:47:12,594 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.10ms
2025-03-11 14:47:12,602 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:289 - Generating enhanced SQL for question: How many accidents?
2025-03-11 14:47:13,105 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.05ms
2025-03-11 14:47:13,106 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:541 - Running LangGraph agent for enhanced SQL generation
2025-03-11 14:47:16,182 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3587.21ms
2025-03-11 14:47:16,182 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3587.89ms
2025-03-11 14:47:16,182 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_basic_sql executed in 3588.35ms
2025-03-11 14:47:16,778 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3667.59ms
2025-03-11 14:47:19,818 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 6696.67ms
2025-03-11 14:47:22,016 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 2195.53ms
2025-03-11 14:47:22,021 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 9419.80ms
2025-03-11 14:47:25,871 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3848.55ms
2025-03-11 14:47:25,872 - app.services.nl2sql_service - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:874 - Failed to extract best option number, defaulting to first option
2025-03-11 14:47:25,872 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_agent_sql executed in 13278.14ms
2025-03-11 14:47:25,872 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: How many accidents?...
2025-03-11 14:47:25,872 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:291 - Generated SQL query with length 53
2025-03-11 14:47:25,872 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.agent_nl2sql executed in 14889.82ms
2025-03-11 14:47:25,873 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/agent
2025-03-11 14:47:25,873 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58196 - "POST /api/nl2sql/agent HTTP/1.1" 200
2025-03-11 14:47:39,887 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 14:47:39,989 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 14:47:39,990 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 14:47:39,990 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [33910]
2025-03-11 14:47:45,269 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 14:47:45,275 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [34906]
2025-03-11 14:47:45,275 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 14:47:45,276 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 14:47:45,279 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: factor, demo phase: enhanced
2025-03-11 14:47:45,279 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table factor in demo phase: enhanced
2025-03-11 14:47:45,841 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 561.83ms
2025-03-11 14:47:45,841 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table factor with 6 columns
2025-03-11 14:47:45,841 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 562.37ms
2025-03-11 14:47:45,842 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 14:47:45,842 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 562.87ms
2025-03-11 14:47:45,842 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/factor/schema
2025-03-11 14:47:45,842 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58256 - "GET /api/tables/factor/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:47:48,267 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:47:48,267 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:47:48,602 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 334.47ms
2025-03-11 14:47:48,602 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:47:48,603 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 335.23ms
2025-03-11 14:47:48,603 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:47:48,603 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 335.56ms
2025-03-11 14:47:48,603 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:47:48,603 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58256 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:47:48,605 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:47:48,605 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:47:48,928 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 323.43ms
2025-03-11 14:47:48,929 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:47:48,929 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 323.83ms
2025-03-11 14:47:48,929 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:47:48,929 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 324.05ms
2025-03-11 14:47:48,929 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:47:48,929 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58256 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:47:50,397 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: factor, demo phase: basic
2025-03-11 14:47:50,397 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table factor in demo phase: basic
2025-03-11 14:47:50,662 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 265.00ms
2025-03-11 14:47:50,663 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table factor with 6 columns
2025-03-11 14:47:50,663 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 265.79ms
2025-03-11 14:47:50,663 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 14:47:50,663 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 266.17ms
2025-03-11 14:47:50,664 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/factor/schema
2025-03-11 14:47:50,664 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58272 - "GET /api/tables/factor/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:48:18,543 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:48:18,544 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:48:18,900 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 355.71ms
2025-03-11 14:48:18,900 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:48:18,901 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 356.46ms
2025-03-11 14:48:18,901 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:48:18,901 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 357.47ms
2025-03-11 14:48:18,901 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:48:18,902 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58290 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:48:18,903 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:48:18,904 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:48:19,243 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 339.83ms
2025-03-11 14:48:19,244 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:48:19,244 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 340.31ms
2025-03-11 14:48:19,244 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:48:19,244 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 340.67ms
2025-03-11 14:48:19,244 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:48:19,244 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58290 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:48:21,029 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: cevent, demo phase: enhanced
2025-03-11 14:48:21,029 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table cevent in demo phase: enhanced
2025-03-11 14:48:21,401 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 371.68ms
2025-03-11 14:48:21,401 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table cevent with 10 columns
2025-03-11 14:48:21,402 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 372.11ms
2025-03-11 14:48:21,402 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 10 columns
2025-03-11 14:48:21,402 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 372.41ms
2025-03-11 14:48:21,402 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/cevent/schema
2025-03-11 14:48:21,402 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58297 - "GET /api/tables/cevent/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:48:23,261 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 14:48:23,262 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:48:23,751 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 488.77ms
2025-03-11 14:48:23,751 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:48:23,751 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 489.23ms
2025-03-11 14:48:23,751 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:48:23,751 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 489.78ms
2025-03-11 14:48:23,752 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:48:23,752 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58297 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:48:31,871 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:48:31,872 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:48:32,242 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 369.88ms
2025-03-11 14:48:32,245 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:48:32,247 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 375.22ms
2025-03-11 14:48:32,247 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:48:32,247 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 376.17ms
2025-03-11 14:48:32,253 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:48:32,257 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58311 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:48:32,268 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:48:32,268 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:48:32,671 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 400.69ms
2025-03-11 14:48:32,671 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:48:32,671 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 402.97ms
2025-03-11 14:48:32,671 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:48:32,671 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 403.46ms
2025-03-11 14:48:32,672 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:48:32,673 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58313 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:48:34,280 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: basic
2025-03-11 14:48:34,281 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-11 14:48:34,555 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 274.55ms
2025-03-11 14:48:34,556 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:48:34,556 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 275.20ms
2025-03-11 14:48:34,556 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:48:34,556 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 275.64ms
2025-03-11 14:48:34,557 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:48:34,557 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58313 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:50:57,433 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:50:57,437 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:50:57,901 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 462.81ms
2025-03-11 14:50:57,901 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:50:57,902 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 464.58ms
2025-03-11 14:50:57,902 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:50:57,902 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 469.27ms
2025-03-11 14:50:57,904 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:50:57,905 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58511 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:50:57,909 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:50:57,909 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:50:58,271 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 361.58ms
2025-03-11 14:50:58,271 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:50:58,271 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 362.17ms
2025-03-11 14:50:58,271 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:50:58,271 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 362.45ms
2025-03-11 14:50:58,272 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:50:58,272 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58511 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:52:41,514 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: basic
2025-03-11 14:52:41,515 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-11 14:52:42,099 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 582.70ms
2025-03-11 14:52:42,100 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:52:42,101 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 586.59ms
2025-03-11 14:52:42,101 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:52:42,101 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 587.94ms
2025-03-11 14:52:42,104 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:52:42,104 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58604 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:52:43,181 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:52:43,181 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:52:43,515 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 333.15ms
2025-03-11 14:52:43,515 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:52:43,515 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 333.90ms
2025-03-11 14:52:43,515 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:52:43,516 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 334.64ms
2025-03-11 14:52:43,516 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:52:43,516 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58604 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:52:43,518 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:52:43,518 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:52:43,799 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 280.62ms
2025-03-11 14:52:43,800 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:52:43,800 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 281.34ms
2025-03-11 14:52:43,800 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:52:43,800 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 281.96ms
2025-03-11 14:52:43,800 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:52:43,801 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58604 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:52:45,081 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 14:52:45,082 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:52:45,383 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 301.46ms
2025-03-11 14:52:45,384 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:52:45,384 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 302.03ms
2025-03-11 14:52:45,384 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:52:45,384 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 302.64ms
2025-03-11 14:52:45,384 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:52:45,385 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58613 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:52:59,083 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 14:52:59,084 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 14:52:59,351 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 266.26ms
2025-03-11 14:52:59,351 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:52:59,351 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 267.22ms
2025-03-11 14:52:59,351 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:52:59,352 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 268.27ms
2025-03-11 14:52:59,360 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 14:52:59,360 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 0 history items
2025-03-11 14:52:59,361 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.47ms
2025-03-11 14:52:59,361 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:52:59,361 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 14:52:59,362 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58618 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 14:52:59,362 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58619 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 14:52:59,365 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 14:52:59,365 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 14:52:59,658 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 293.39ms
2025-03-11 14:52:59,658 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:52:59,658 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 293.83ms
2025-03-11 14:52:59,659 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:52:59,659 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 294.05ms
2025-03-11 14:52:59,659 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 14:52:59,659 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 0 history items
2025-03-11 14:52:59,659 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.10ms
2025-03-11 14:52:59,659 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:52:59,659 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 14:52:59,660 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58618 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 14:52:59,660 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58619 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 14:53:01,566 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: agent
2025-03-11 14:53:01,566 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: agent
2025-03-11 14:53:01,888 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 322.23ms
2025-03-11 14:53:01,888 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:53:01,889 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 322.79ms
2025-03-11 14:53:01,889 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:53:01,889 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 323.10ms
2025-03-11 14:53:01,890 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:53:01,890 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58619 - "GET /api/tables/accident/schema?demo_phase=agent HTTP/1.1" 200
2025-03-11 14:53:01,896 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:110 - Getting sample for table: accident, sample size: 5, demo phase: agent
2025-03-11 14:53:01,896 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: agent
2025-03-11 14:53:03,128 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1231.24ms
2025-03-11 14:53:03,128 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 14:53:03,128 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1232.22ms
2025-03-11 14:53:03,128 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:115 - Sample retrieved with 5 rows
2025-03-11 14:53:03,128 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_sample executed in 1232.54ms
2025-03-11 14:53:03,131 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/sample
2025-03-11 14:53:03,131 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58619 - "GET /api/tables/accident/sample?sample_size=5&demo_phase=agent HTTP/1.1" 200
2025-03-11 14:55:39,552 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 14:55:39,557 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 14:55:39,933 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 375.05ms
2025-03-11 14:55:39,933 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:55:39,935 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 377.30ms
2025-03-11 14:55:39,936 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:55:39,936 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 385.28ms
2025-03-11 14:55:39,940 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 14:55:39,941 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 0 history items
2025-03-11 14:55:39,941 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.34ms
2025-03-11 14:55:39,941 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:55:39,942 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 14:55:39,942 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58806 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 14:55:39,942 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58807 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 14:55:39,948 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 14:55:39,948 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 14:55:40,202 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 253.26ms
2025-03-11 14:55:40,202 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:55:40,203 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 255.03ms
2025-03-11 14:55:40,203 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:55:40,204 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 255.96ms
2025-03-11 14:55:40,206 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 14:55:40,206 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 0 history items
2025-03-11 14:55:40,206 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.18ms
2025-03-11 14:55:40,206 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:55:40,206 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58806 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 14:55:40,207 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 14:55:40,207 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58813 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 14:55:41,967 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:55:41,968 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:55:42,271 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 302.36ms
2025-03-11 14:55:42,272 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:55:42,272 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 304.08ms
2025-03-11 14:55:42,272 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:55:42,272 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 305.88ms
2025-03-11 14:55:42,273 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:55:42,273 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58813 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:55:42,274 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:55:42,274 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:55:42,551 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 277.12ms
2025-03-11 14:55:42,551 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:55:42,551 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 277.56ms
2025-03-11 14:55:42,552 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:55:42,552 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 277.83ms
2025-03-11 14:55:42,552 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:55:42,552 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58806 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:55:44,791 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 14:55:44,792 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 14:55:45,123 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 330.66ms
2025-03-11 14:55:45,124 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 14:55:45,124 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 332.56ms
2025-03-11 14:55:45,124 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 14:55:45,124 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 333.11ms
2025-03-11 14:55:45,132 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 14:55:45,134 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58826 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:55:52,282 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:55:52,282 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:55:52,648 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 365.67ms
2025-03-11 14:55:52,648 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:55:52,649 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 366.37ms
2025-03-11 14:55:52,649 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:55:52,649 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 367.53ms
2025-03-11 14:55:52,650 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:55:52,651 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58835 - "GET /api/tables HTTP/1.1" 200
2025-03-11 14:55:54,681 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:55:54,681 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:55:55,005 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 323.74ms
2025-03-11 14:55:55,005 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:55:55,006 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 324.21ms
2025-03-11 14:55:55,006 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:55:55,006 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 324.83ms
2025-03-11 14:55:55,007 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:55:55,007 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58837 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:55:55,009 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:55:55,009 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:55:55,330 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 319.89ms
2025-03-11 14:55:55,330 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:55:55,330 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 320.45ms
2025-03-11 14:55:55,330 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:55:55,330 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 320.84ms
2025-03-11 14:55:55,330 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:55:55,331 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58837 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:55:57,556 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:55:57,557 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:55:57,949 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 391.96ms
2025-03-11 14:55:57,950 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:55:57,950 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 392.63ms
2025-03-11 14:55:57,950 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:55:57,950 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 393.72ms
2025-03-11 14:55:57,950 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:55:57,951 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58837 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:55:57,953 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:55:57,953 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:55:58,353 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 400.59ms
2025-03-11 14:55:58,354 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:55:58,354 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 401.00ms
2025-03-11 14:55:58,354 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:55:58,354 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 401.23ms
2025-03-11 14:55:58,354 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:55:58,354 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58839 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:56:10,145 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:56:10,145 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:56:10,474 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 328.46ms
2025-03-11 14:56:10,475 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:56:10,475 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 329.38ms
2025-03-11 14:56:10,475 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:56:10,475 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 330.06ms
2025-03-11 14:56:10,475 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:56:10,475 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58850 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:56:10,477 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 14:56:10,477 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 14:56:10,872 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 394.18ms
2025-03-11 14:56:10,872 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:56:10,872 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 395.11ms
2025-03-11 14:56:10,872 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:56:10,872 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 395.37ms
2025-03-11 14:56:10,873 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:56:10,873 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58850 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 14:56:17,556 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:56:17,556 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:56:17,909 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 352.59ms
2025-03-11 14:56:17,910 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:56:17,910 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 353.15ms
2025-03-11 14:56:17,910 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:56:17,910 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 353.84ms
2025-03-11 14:56:17,910 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:56:17,910 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58861 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:56:17,912 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:56:17,912 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:56:18,200 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 288.15ms
2025-03-11 14:56:18,201 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:56:18,201 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 289.07ms
2025-03-11 14:56:18,201 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:56:18,201 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 289.33ms
2025-03-11 14:56:18,201 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:56:18,201 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58863 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:58:13,397 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:58:13,399 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:58:13,777 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 376.11ms
2025-03-11 14:58:13,777 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:58:13,777 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 377.94ms
2025-03-11 14:58:13,777 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:58:13,777 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 380.47ms
2025-03-11 14:58:13,779 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:58:13,779 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58986 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:58:57,192 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:58:57,202 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:58:57,515 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 311.22ms
2025-03-11 14:58:57,516 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:58:57,516 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 314.27ms
2025-03-11 14:58:57,516 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:58:57,516 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 324.38ms
2025-03-11 14:58:57,517 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:58:57,518 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59085 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 14:58:57,522 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 14:58:57,522 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 14:58:57,816 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 294.28ms
2025-03-11 14:58:57,818 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 14:58:57,818 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 295.71ms
2025-03-11 14:58:57,818 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 14:58:57,818 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 296.01ms
2025-03-11 14:58:57,819 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 14:58:57,819 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59085 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:27:43,774 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 15:27:43,785 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 15:27:44,408 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 621.00ms
2025-03-11 15:27:44,409 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 15:27:44,409 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 624.30ms
2025-03-11 15:27:44,409 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 15:27:44,410 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 636.81ms
2025-03-11 15:27:44,414 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 15:27:44,415 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59909 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:27:48,009 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:27:48,010 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:27:48,310 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 298.29ms
2025-03-11 15:27:48,310 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:27:48,310 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 300.35ms
2025-03-11 15:27:48,310 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:27:48,310 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 301.08ms
2025-03-11 15:27:48,311 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:27:48,311 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59942 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:27:48,313 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:27:48,313 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:27:48,632 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 318.59ms
2025-03-11 15:27:48,632 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:27:48,633 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 319.42ms
2025-03-11 15:27:48,633 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:27:48,633 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 320.01ms
2025-03-11 15:27:48,635 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:27:48,635 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59942 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:27:52,710 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: basic
2025-03-11 15:27:52,710 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-11 15:27:52,997 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 286.82ms
2025-03-11 15:27:52,998 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 15:27:52,998 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 287.59ms
2025-03-11 15:27:52,998 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 15:27:52,998 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 288.11ms
2025-03-11 15:27:52,999 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 15:27:52,999 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59959 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:29:40,037 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:29:40,040 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:29:40,360 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 318.42ms
2025-03-11 15:29:40,360 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:29:40,360 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 319.94ms
2025-03-11 15:29:40,361 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:29:40,361 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 325.07ms
2025-03-11 15:29:40,361 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:29:40,361 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60100 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:29:40,363 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:29:40,363 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:29:40,655 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 292.17ms
2025-03-11 15:29:40,656 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:29:40,656 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 292.57ms
2025-03-11 15:29:40,656 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:29:40,656 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 292.83ms
2025-03-11 15:29:40,657 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:29:40,657 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60100 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:29:42,389 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: basic
2025-03-11 15:29:42,398 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-11 15:29:42,709 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 310.58ms
2025-03-11 15:29:42,710 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 15:29:42,710 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 312.58ms
2025-03-11 15:29:42,710 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 15:29:42,710 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 320.92ms
2025-03-11 15:29:42,715 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 15:29:42,715 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60108 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:29:45,319 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 15:29:45,320 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 15:29:45,676 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 355.12ms
2025-03-11 15:29:45,676 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:29:45,676 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 356.06ms
2025-03-11 15:29:45,676 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:29:45,676 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 357.29ms
2025-03-11 15:29:45,677 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:29:45,678 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60108 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:29:45,679 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 15:29:45,679 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 15:29:46,018 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 338.57ms
2025-03-11 15:29:46,018 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:29:46,018 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 338.99ms
2025-03-11 15:29:46,018 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:29:46,018 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 339.24ms
2025-03-11 15:29:46,019 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:29:46,019 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60108 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:29:47,111 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 15:29:47,111 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 15:29:47,425 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 313.84ms
2025-03-11 15:29:47,425 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 15:29:47,425 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 314.47ms
2025-03-11 15:29:47,426 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 15:29:47,426 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 315.37ms
2025-03-11 15:29:47,427 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 15:29:47,428 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60108 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:50:05,041 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60618 - "OPTIONS /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:50:05,221 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:206 - Enhanced NL2SQL request for table: accident
2025-03-11 15:50:05,222 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 15:50:06,386 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 1160.00ms
2025-03-11 15:50:06,387 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 15:50:06,392 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 1169.94ms
2025-03-11 15:50:06,396 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 15:50:07,585 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1188.99ms
2025-03-11 15:50:07,586 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 15:50:07,587 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1194.98ms
2025-03-11 15:50:07,588 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:289 - Generating enhanced SQL for question: count them
2025-03-11 15:50:08,928 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.05ms
2025-03-11 15:50:08,929 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:541 - Running LangGraph agent for enhanced SQL generation
2025-03-11 15:50:13,430 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 4495.15ms
2025-03-11 15:50:15,777 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 2345.36ms
2025-03-11 15:50:15,784 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 8195.87ms
2025-03-11 15:50:15,786 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: count them...
2025-03-11 15:50:15,786 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:236 - Generated SQL query with length 29
2025-03-11 15:50:15,788 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 10567.93ms
2025-03-11 15:50:15,798 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 15:50:15,799 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60618 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:58:22,142 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 15:58:22,144 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 15:58:22,700 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 555.01ms
2025-03-11 15:58:22,700 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:58:22,700 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 556.43ms
2025-03-11 15:58:22,701 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:58:22,701 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 560.36ms
2025-03-11 15:58:22,706 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 15:58:22,706 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 1 history items
2025-03-11 15:58:22,706 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.16ms
2025-03-11 15:58:22,709 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:58:22,710 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 15:58:22,710 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61300 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 15:58:22,710 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61301 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 15:58:22,713 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 15:58:22,713 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 15:58:23,043 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 294.07ms
2025-03-11 15:58:23,043 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:58:23,043 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 330.58ms
2025-03-11 15:58:23,044 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:58:23,044 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 330.86ms
2025-03-11 15:58:23,044 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:58:23,044 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 15:58:23,044 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 1 history items
2025-03-11 15:58:23,044 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.11ms
2025-03-11 15:58:23,045 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61300 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 15:58:23,045 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 15:58:23,045 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61305 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 15:58:30,174 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:58:30,175 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:58:30,453 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 276.98ms
2025-03-11 15:58:30,453 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:58:30,453 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 278.18ms
2025-03-11 15:58:30,453 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:58:30,454 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 279.38ms
2025-03-11 15:58:30,454 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:58:30,454 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61310 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:58:30,456 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:58:30,457 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:58:30,772 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 315.43ms
2025-03-11 15:58:30,772 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:58:30,773 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 316.05ms
2025-03-11 15:58:30,773 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:58:30,773 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 316.37ms
2025-03-11 15:58:30,773 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:58:30,774 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61312 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:58:46,420 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 15:58:46,421 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 15:58:46,874 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 452.96ms
2025-03-11 15:58:46,874 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:58:46,875 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 454.11ms
2025-03-11 15:58:46,875 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:58:46,875 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 455.23ms
2025-03-11 15:58:46,877 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:58:46,877 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61365 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:58:46,879 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 15:58:46,879 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 15:58:47,278 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 398.72ms
2025-03-11 15:58:47,278 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:58:47,278 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 399.17ms
2025-03-11 15:58:47,278 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:58:47,278 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 399.41ms
2025-03-11 15:58:47,279 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:58:47,279 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61365 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:58:50,369 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 15:58:50,370 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 15:58:50,894 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 523.98ms
2025-03-11 15:58:50,894 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 15:58:50,895 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 524.98ms
2025-03-11 15:58:50,895 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 15:58:50,895 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 525.37ms
2025-03-11 15:58:50,896 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 15:58:50,896 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61369 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:59:02,425 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: nmprior, demo phase: enhanced
2025-03-11 15:59:02,426 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmprior in demo phase: enhanced
2025-03-11 15:59:02,724 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 297.44ms
2025-03-11 15:59:02,724 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmprior with 7 columns
2025-03-11 15:59:02,724 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 298.32ms
2025-03-11 15:59:02,724 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 7 columns
2025-03-11 15:59:02,724 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 299.19ms
2025-03-11 15:59:02,725 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmprior/schema
2025-03-11 15:59:02,725 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61377 - "GET /api/tables/nmprior/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 15:59:07,779 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:59:07,779 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:59:08,069 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 289.30ms
2025-03-11 15:59:08,069 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:59:08,069 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 290.06ms
2025-03-11 15:59:08,069 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:59:08,069 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 290.52ms
2025-03-11 15:59:08,070 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:59:08,070 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61380 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:59:08,071 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:59:08,071 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:59:08,400 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 328.26ms
2025-03-11 15:59:08,400 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:59:08,400 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 328.85ms
2025-03-11 15:59:08,400 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:59:08,400 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 329.17ms
2025-03-11 15:59:08,401 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:59:08,401 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61380 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:59:14,495 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: car_statistcs, demo phase: basic
2025-03-11 15:59:14,496 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: basic
2025-03-11 15:59:14,796 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 299.60ms
2025-03-11 15:59:14,796 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 15:59:14,796 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 300.29ms
2025-03-11 15:59:14,796 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 5 columns
2025-03-11 15:59:14,796 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 301.03ms
2025-03-11 15:59:14,797 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/car_statistcs/schema
2025-03-11 15:59:14,798 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61386 - "GET /api/tables/car_statistcs/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:59:26,965 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 15:59:26,975 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 15:59:28,168 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 1183.68ms
2025-03-11 15:59:28,169 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:59:28,169 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 1194.55ms
2025-03-11 15:59:28,170 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:59:28,170 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 1208.30ms
2025-03-11 15:59:28,171 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 15:59:28,171 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 1 history items
2025-03-11 15:59:28,172 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.26ms
2025-03-11 15:59:28,173 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:59:28,173 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 15:59:28,174 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61399 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 15:59:28,174 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61400 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 15:59:28,179 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 15:59:28,179 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 15:59:28,559 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 380.19ms
2025-03-11 15:59:28,559 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:59:28,559 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 380.62ms
2025-03-11 15:59:28,560 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:59:28,560 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 381.06ms
2025-03-11 15:59:28,560 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:59:28,560 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 15:59:28,560 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 1 history items
2025-03-11 15:59:28,560 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.12ms
2025-03-11 15:59:28,561 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61404 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 15:59:28,561 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 15:59:28,561 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61399 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 15:59:46,782 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:59:46,785 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:59:47,068 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 283.02ms
2025-03-11 15:59:47,070 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:59:47,070 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 285.14ms
2025-03-11 15:59:47,070 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:59:47,070 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 288.24ms
2025-03-11 15:59:47,071 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:59:47,071 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61439 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 15:59:47,073 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 15:59:47,073 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 15:59:49,406 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 2332.54ms
2025-03-11 15:59:49,406 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 15:59:49,406 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 2333.02ms
2025-03-11 15:59:49,407 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 15:59:49,407 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 2333.49ms
2025-03-11 15:59:49,408 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 15:59:49,408 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61442 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:02:01,642 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 16:02:01,643 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 16:02:01,980 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 337.17ms
2025-03-11 16:02:01,983 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 16:02:01,989 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 346.79ms
2025-03-11 16:02:01,990 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 16:02:01,991 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 349.29ms
2025-03-11 16:02:02,002 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 16:02:02,010 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61578 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:02:03,081 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 16:02:03,081 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 16:02:03,351 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 267.62ms
2025-03-11 16:02:03,351 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 16:02:03,351 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 269.53ms
2025-03-11 16:02:03,351 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 16:02:03,351 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 269.96ms
2025-03-11 16:02:03,351 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 16:02:03,352 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61582 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:02:22,151 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 16:02:22,254 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 16:02:22,257 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 16:02:22,258 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [34906]
2025-03-11 16:02:28,850 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 16:02:28,858 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [69855]
2025-03-11 16:02:28,859 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 16:02:28,859 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 16:02:49,186 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 16:02:49,288 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 16:02:49,289 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 16:02:49,289 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [69855]
2025-03-11 16:02:52,983 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 16:02:52,990 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [70156]
2025-03-11 16:02:52,990 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 16:02:52,990 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 16:03:09,659 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 16:03:09,761 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 16:03:09,762 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 16:03:09,762 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [70156]
2025-03-11 16:03:13,193 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 16:03:13,202 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [70631]
2025-03-11 16:03:13,202 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 16:03:13,203 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 16:03:51,403 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 16:03:51,408 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 16:03:52,132 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 722.98ms
2025-03-11 16:03:52,132 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 16:03:52,132 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 725.39ms
2025-03-11 16:03:52,132 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 16:03:52,133 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 729.40ms
2025-03-11 16:03:52,137 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 16:03:52,137 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61708 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:03:52,143 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 16:03:52,143 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 16:03:52,428 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 284.37ms
2025-03-11 16:03:52,428 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 16:03:52,428 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 285.31ms
2025-03-11 16:03:52,428 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 16:03:52,428 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 285.63ms
2025-03-11 16:03:52,431 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 16:03:52,431 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61708 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:03:54,023 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: drimpair, demo phase: basic
2025-03-11 16:03:54,024 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: basic
2025-03-11 16:03:56,384 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 2359.51ms
2025-03-11 16:03:56,384 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 16:03:56,384 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 2361.02ms
2025-03-11 16:03:56,384 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 16:03:56,384 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 2361.66ms
2025-03-11 16:03:56,386 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drimpair/schema
2025-03-11 16:03:56,387 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61717 - "GET /api/tables/drimpair/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:03:56,388 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: drimpair, demo phase: basic
2025-03-11 16:03:56,389 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: basic
2025-03-11 16:03:56,764 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 375.51ms
2025-03-11 16:03:56,764 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 16:03:56,765 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 375.99ms
2025-03-11 16:03:56,765 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 16:03:56,765 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 376.28ms
2025-03-11 16:03:56,765 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drimpair/schema
2025-03-11 16:03:56,765 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61719 - "GET /api/tables/drimpair/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:03:56,766 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: drimpair, demo phase: basic
2025-03-11 16:03:56,766 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: basic
2025-03-11 16:03:57,065 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 298.11ms
2025-03-11 16:03:57,065 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 16:03:57,065 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 298.55ms
2025-03-11 16:03:57,065 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 16:03:57,065 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 298.79ms
2025-03-11 16:03:57,066 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drimpair/schema
2025-03-11 16:03:57,066 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: damage, demo phase: basic
2025-03-11 16:03:57,066 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: basic
2025-03-11 16:03:57,409 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 342.95ms
2025-03-11 16:03:57,409 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 16:03:57,409 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 343.57ms
2025-03-11 16:03:57,409 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 16:03:57,409 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 343.74ms
2025-03-11 16:03:57,410 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61717 - "GET /api/tables/drimpair/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:03:57,410 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/damage/schema
2025-03-11 16:03:57,410 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61719 - "GET /api/tables/damage/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:03:57,415 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: damage, demo phase: basic
2025-03-11 16:03:57,415 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: basic
2025-03-11 16:03:57,714 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 298.53ms
2025-03-11 16:03:57,714 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 16:03:57,714 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 298.99ms
2025-03-11 16:03:57,714 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 16:03:57,714 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 299.23ms
2025-03-11 16:03:57,715 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/damage/schema
2025-03-11 16:03:57,715 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61719 - "GET /api/tables/damage/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:03:57,717 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: car_statistcs, demo phase: basic
2025-03-11 16:03:57,718 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: basic
2025-03-11 16:03:58,049 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 331.85ms
2025-03-11 16:03:58,050 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 16:03:58,050 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 332.26ms
2025-03-11 16:03:58,050 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 5 columns
2025-03-11 16:03:58,050 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 332.53ms
2025-03-11 16:03:58,050 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/car_statistcs/schema
2025-03-11 16:03:58,051 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61719 - "GET /api/tables/car_statistcs/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:04:08,454 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61734 - "OPTIONS /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:04:08,462 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:162 - Basic NL2SQL request for primary table: drimpair, additional tables: damage, car_statistcs
2025-03-11 16:04:08,462 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: basic
2025-03-11 16:04:08,762 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 299.18ms
2025-03-11 16:04:08,762 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 16:04:08,762 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 299.91ms
2025-03-11 16:04:08,762 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: basic
2025-03-11 16:04:09,078 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 315.30ms
2025-03-11 16:04:09,078 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 16:04:09,078 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 315.71ms
2025-03-11 16:04:09,078 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: basic
2025-03-11 16:04:09,359 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 280.82ms
2025-03-11 16:04:09,359 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 16:04:09,359 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 281.17ms
2025-03-11 16:04:09,360 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table drimpair (size: 5) in demo phase: basic
2025-03-11 16:04:10,837 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1477.15ms
2025-03-11 16:04:10,837 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table drimpair
2025-03-11 16:04:10,838 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1478.72ms
2025-03-11 16:04:10,839 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:205 - Generating basic SQL for question: count accidents
2025-03-11 16:04:10,839 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.03ms
2025-03-11 16:04:13,641 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 2801.26ms
2025-03-11 16:04:13,642 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 2802.29ms
2025-03-11 16:04:13,642 - app.services.nl2sql_service - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:263 - Failed to extract SQL from response, using fallback
2025-03-11 16:04:13,643 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_basic_sql executed in 2804.57ms
2025-03-11 16:04:13,643 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: count accidents...
2025-03-11 16:04:13,643 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:191 - Generated SQL query with length 31
2025-03-11 16:04:13,643 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.basic_nl2sql executed in 5181.33ms
2025-03-11 16:04:13,645 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/basic
2025-03-11 16:04:13,645 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61734 - "POST /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:04:23,312 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:162 - Basic NL2SQL request for primary table: drimpair, additional tables: damage, car_statistcs
2025-03-11 16:04:23,313 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: basic
2025-03-11 16:04:23,649 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 336.28ms
2025-03-11 16:04:23,649 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 16:04:23,649 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 336.80ms
2025-03-11 16:04:23,649 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: basic
2025-03-11 16:04:23,905 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 255.57ms
2025-03-11 16:04:23,905 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 16:04:23,906 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 256.05ms
2025-03-11 16:04:23,906 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: basic
2025-03-11 16:04:24,223 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 317.58ms
2025-03-11 16:04:24,224 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 16:04:24,224 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 318.04ms
2025-03-11 16:04:24,224 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table drimpair (size: 5) in demo phase: basic
2025-03-11 16:04:25,535 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1311.23ms
2025-03-11 16:04:25,535 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table drimpair
2025-03-11 16:04:25,535 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1311.62ms
2025-03-11 16:04:25,535 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:205 - Generating basic SQL for question: count accidents
2025-03-11 16:04:25,536 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.03ms
2025-03-11 16:04:26,557 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 1021.83ms
2025-03-11 16:04:26,558 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 1022.07ms
2025-03-11 16:04:26,558 - app.services.nl2sql_service - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:263 - Failed to extract SQL from response, using fallback
2025-03-11 16:04:26,558 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_basic_sql executed in 1022.47ms
2025-03-11 16:04:26,558 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: count accidents...
2025-03-11 16:04:26,558 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:191 - Generated SQL query with length 31
2025-03-11 16:04:26,558 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.basic_nl2sql executed in 3245.73ms
2025-03-11 16:04:26,559 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/basic
2025-03-11 16:04:26,559 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61749 - "POST /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:04:39,130 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 16:04:39,131 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 16:04:39,448 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 316.78ms
2025-03-11 16:04:39,448 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 16:04:39,448 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 317.65ms
2025-03-11 16:04:39,448 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 16:04:39,449 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 318.79ms
2025-03-11 16:04:39,449 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 16:04:39,449 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61772 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 16:04:39,455 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 16:04:39,455 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 16:04:39,832 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 377.28ms
2025-03-11 16:04:39,837 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 16:04:39,838 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 383.24ms
2025-03-11 16:04:39,841 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 16:04:39,842 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 387.13ms
2025-03-11 16:04:39,847 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 16:04:39,850 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61774 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 16:04:44,048 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: distract, demo phase: enhanced
2025-03-11 16:04:44,049 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 16:04:44,378 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 328.30ms
2025-03-11 16:04:44,378 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 16:04:44,378 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 329.22ms
2025-03-11 16:04:44,378 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 16:04:44,378 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 330.46ms
2025-03-11 16:04:44,379 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/distract/schema
2025-03-11 16:04:44,379 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61781 - "GET /api/tables/distract/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 16:04:57,512 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 16:04:57,621 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 16:04:57,628 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 16:04:57,630 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [70631]
2025-03-11 16:05:03,030 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 16:05:03,038 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [72071]
2025-03-11 16:05:03,038 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 16:05:03,038 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 16:05:43,361 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 16:05:43,362 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 16:05:44,032 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 670.07ms
2025-03-11 16:05:44,033 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 16:05:44,033 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 670.87ms
2025-03-11 16:05:44,033 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 16:05:44,033 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 671.89ms
2025-03-11 16:05:44,033 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 16:05:44,034 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61861 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:05:44,035 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 16:05:44,036 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 16:05:44,299 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 263.21ms
2025-03-11 16:05:44,299 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 16:05:44,299 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 263.62ms
2025-03-11 16:05:44,299 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 16:05:44,299 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 263.95ms
2025-03-11 16:05:44,300 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 16:05:44,300 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:61861 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 16:08:19,513 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 16:08:19,627 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 16:08:19,638 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 16:08:19,642 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [72071]
2025-03-11 16:08:26,903 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 16:08:27,281 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [74721]
2025-03-11 16:08:27,283 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 16:08:27,306 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 16:09:06,935 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 16:09:07,046 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 16:09:07,058 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 16:09:07,060 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [74721]
2025-03-11 16:09:13,417 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 16:09:13,426 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [75489]
2025-03-11 16:09:13,426 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 16:09:13,426 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 16:09:27,668 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 16:09:27,770 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 16:09:27,771 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 16:09:27,771 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [75489]
2025-03-11 16:09:30,855 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 16:09:30,862 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [75573]
2025-03-11 16:09:30,862 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 16:09:30,862 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 16:09:54,911 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 16:09:55,013 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 16:09:55,014 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 16:09:55,014 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [75573]
2025-03-11 16:09:58,783 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 16:09:58,790 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [75949]
2025-03-11 16:09:58,790 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 16:09:58,790 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 18:35:50,570 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 18:35:50,576 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:35:51,398 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 820.10ms
2025-03-11 18:35:51,399 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:35:51,399 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 823.80ms
2025-03-11 18:35:51,399 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:35:51,399 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 829.84ms
2025-03-11 18:35:51,403 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:35:51,403 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51938 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:35:51,405 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 18:35:51,405 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:35:51,683 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 278.36ms
2025-03-11 18:35:51,684 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:35:51,684 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 278.83ms
2025-03-11 18:35:51,684 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:35:51,684 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 279.15ms
2025-03-11 18:35:51,685 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:35:51,685 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 18:35:51,685 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:35:51,966 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 280.65ms
2025-03-11 18:35:51,966 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:35:51,966 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 281.06ms
2025-03-11 18:35:51,966 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:35:51,966 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 281.28ms
2025-03-11 18:35:51,966 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51938 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:35:51,967 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:35:51,967 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51942 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:35:51,969 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 18:35:51,969 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:35:52,289 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 320.44ms
2025-03-11 18:35:52,290 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:35:52,290 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 321.12ms
2025-03-11 18:35:52,290 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:35:52,290 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 321.35ms
2025-03-11 18:35:52,292 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:35:52,292 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51951 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:35:59,144 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 18:35:59,144 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:35:59,501 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 355.89ms
2025-03-11 18:35:59,501 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:35:59,501 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 356.37ms
2025-03-11 18:35:59,501 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:35:59,501 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 356.66ms
2025-03-11 18:35:59,501 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:35:59,501 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51958 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:35:59,503 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 18:35:59,503 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:35:59,866 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 362.87ms
2025-03-11 18:35:59,867 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:35:59,867 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 363.35ms
2025-03-11 18:35:59,867 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:35:59,867 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 363.61ms
2025-03-11 18:35:59,867 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:35:59,867 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51958 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:36:04,540 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: cevent, demo phase: enhanced
2025-03-11 18:36:04,540 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table cevent in demo phase: enhanced
2025-03-11 18:36:04,872 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 331.10ms
2025-03-11 18:36:04,874 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table cevent with 10 columns
2025-03-11 18:36:04,876 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 335.32ms
2025-03-11 18:36:04,881 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 10 columns
2025-03-11 18:36:04,882 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 342.40ms
2025-03-11 18:36:04,891 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/cevent/schema
2025-03-11 18:36:04,894 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51967 - "GET /api/tables/cevent/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:36:20,633 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 18:36:20,635 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 18:36:20,927 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 290.51ms
2025-03-11 18:36:20,928 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:36:20,928 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 292.99ms
2025-03-11 18:36:20,928 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:36:20,928 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 295.08ms
2025-03-11 18:36:20,931 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:314 - Getting query history
2025-03-11 18:36:20,931 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:318 - Retrieved 0 history items
2025-03-11 18:36:20,931 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.21ms
2025-03-11 18:36:20,932 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:36:20,932 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 18:36:20,932 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51988 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 18:36:20,932 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51989 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 18:36:20,934 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 18:36:20,934 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 18:36:21,264 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 330.42ms
2025-03-11 18:36:21,265 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:36:21,265 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 331.09ms
2025-03-11 18:36:21,265 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:36:21,265 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 331.53ms
2025-03-11 18:36:21,266 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:314 - Getting query history
2025-03-11 18:36:21,266 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:318 - Retrieved 0 history items
2025-03-11 18:36:21,266 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.25ms
2025-03-11 18:36:21,267 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:36:21,267 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 18:36:21,267 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51988 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 18:36:21,267 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51992 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 18:36:51,893 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 18:36:51,894 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:36:52,242 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 348.26ms
2025-03-11 18:36:52,243 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:36:52,243 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 349.16ms
2025-03-11 18:36:52,243 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:36:52,243 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 350.07ms
2025-03-11 18:36:52,243 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:36:52,243 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52038 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:36:52,245 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 18:36:52,245 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:36:52,560 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 314.92ms
2025-03-11 18:36:52,560 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:36:52,560 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 315.46ms
2025-03-11 18:36:52,560 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:36:52,560 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 315.78ms
2025-03-11 18:36:52,561 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:36:52,561 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52038 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:41:08,670 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 18:41:08,695 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:41:09,408 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 708.94ms
2025-03-11 18:41:09,408 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:41:09,408 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 714.97ms
2025-03-11 18:41:09,410 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:41:09,410 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 741.97ms
2025-03-11 18:41:09,416 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:41:09,417 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52273 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:41:09,419 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 18:41:09,420 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:41:09,713 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 291.97ms
2025-03-11 18:41:09,713 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:41:09,714 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 293.89ms
2025-03-11 18:41:09,714 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:41:09,714 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 294.61ms
2025-03-11 18:41:09,715 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:41:09,715 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52273 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:41:10,341 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 18:41:10,342 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:41:10,725 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 381.80ms
2025-03-11 18:41:10,725 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:41:10,725 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 382.81ms
2025-03-11 18:41:10,725 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:41:10,725 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 384.44ms
2025-03-11 18:41:10,726 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:41:10,727 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52273 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:41:10,728 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 18:41:10,728 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:41:11,050 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 322.34ms
2025-03-11 18:41:11,051 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:41:11,051 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 322.80ms
2025-03-11 18:41:11,051 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:41:11,051 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 323.00ms
2025-03-11 18:41:11,055 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:41:11,055 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52276 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:41:15,657 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 18:41:15,657 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:41:15,962 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 304.03ms
2025-03-11 18:41:15,963 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:41:15,964 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 306.56ms
2025-03-11 18:41:15,964 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:41:15,964 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 307.44ms
2025-03-11 18:41:15,965 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:41:15,966 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52286 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:41:15,972 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 18:41:15,973 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:41:16,311 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 337.67ms
2025-03-11 18:41:16,311 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:41:16,311 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 338.46ms
2025-03-11 18:41:16,312 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 18:41:16,312 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 339.69ms
2025-03-11 18:41:16,312 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:41:16,312 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52288 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:41:44,493 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 18:41:44,597 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 18:41:44,599 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 18:41:44,600 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [75949]
2025-03-11 18:45:37,190 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 18:45:37,199 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [8037]
2025-03-11 18:45:37,199 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 18:45:37,199 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 18:46:07,166 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:46:07,167 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:46:07,855 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 687.68ms
2025-03-11 18:46:07,855 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:07,855 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 688.24ms
2025-03-11 18:46:07,855 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:07,855 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 689.49ms
2025-03-11 18:46:07,856 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:07,856 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52585 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:46:07,857 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:46:07,857 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:46:08,240 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 383.30ms
2025-03-11 18:46:08,240 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:08,240 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 383.66ms
2025-03-11 18:46:08,240 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:08,240 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 383.84ms
2025-03-11 18:46:08,241 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:08,241 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52589 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:46:55,964 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:46:55,967 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:46:56,274 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 305.82ms
2025-03-11 18:46:56,274 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:56,274 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 307.08ms
2025-03-11 18:46:56,274 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:56,275 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 310.53ms
2025-03-11 18:46:56,276 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:56,276 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52648 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:46:56,278 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:46:56,279 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:46:56,607 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 328.56ms
2025-03-11 18:46:56,608 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:56,608 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 328.99ms
2025-03-11 18:46:56,608 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:56,608 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 329.55ms
2025-03-11 18:46:56,608 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:56,608 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52648 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:46:57,323 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:46:57,323 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:46:57,644 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 320.47ms
2025-03-11 18:46:57,644 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:57,644 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 321.26ms
2025-03-11 18:46:57,645 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:57,645 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 321.91ms
2025-03-11 18:46:57,645 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:57,645 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52648 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:46:57,646 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:46:57,646 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:46:57,948 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 302.23ms
2025-03-11 18:46:57,949 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:57,949 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 302.60ms
2025-03-11 18:46:57,949 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:57,949 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 302.79ms
2025-03-11 18:46:57,949 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:57,950 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:46:57,950 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:46:58,249 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 299.27ms
2025-03-11 18:46:58,249 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:58,249 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 299.65ms
2025-03-11 18:46:58,249 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:58,249 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 299.80ms
2025-03-11 18:46:58,250 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52651 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:46:58,250 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:58,251 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52648 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:46:58,252 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:46:58,253 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:46:58,545 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 291.98ms
2025-03-11 18:46:58,545 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:58,545 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 292.38ms
2025-03-11 18:46:58,545 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:58,545 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 292.59ms
2025-03-11 18:46:58,546 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:58,546 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:46:58,546 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:46:58,853 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 306.81ms
2025-03-11 18:46:58,853 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:58,853 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 307.20ms
2025-03-11 18:46:58,853 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:58,853 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 307.41ms
2025-03-11 18:46:58,854 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52651 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:46:58,854 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:58,854 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52648 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:46:58,855 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:46:58,856 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:46:59,167 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 310.93ms
2025-03-11 18:46:59,167 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:59,167 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 311.42ms
2025-03-11 18:46:59,167 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:59,167 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 311.62ms
2025-03-11 18:46:59,168 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:59,168 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52651 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:46:59,339 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:46:59,339 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:46:59,657 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 317.79ms
2025-03-11 18:46:59,658 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:59,658 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 318.23ms
2025-03-11 18:46:59,658 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:59,658 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 318.52ms
2025-03-11 18:46:59,658 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:59,659 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52651 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:46:59,660 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:46:59,660 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:46:59,998 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 338.15ms
2025-03-11 18:46:59,998 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:46:59,998 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 338.50ms
2025-03-11 18:46:59,998 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:46:59,998 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 338.71ms
2025-03-11 18:46:59,999 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:46:59,999 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52648 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:00,450 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:47:00,450 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:47:00,768 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 318.04ms
2025-03-11 18:47:00,769 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:47:00,769 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 318.46ms
2025-03-11 18:47:00,769 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:47:00,769 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 318.77ms
2025-03-11 18:47:00,769 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:47:00,769 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52648 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:47:00,771 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:47:00,771 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:47:01,061 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 290.02ms
2025-03-11 18:47:01,061 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:47:01,061 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 290.36ms
2025-03-11 18:47:01,061 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:47:01,061 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 290.56ms
2025-03-11 18:47:01,062 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:47:01,062 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52648 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:47:06,559 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: damage, demo phase: basic
2025-03-11 18:47:06,562 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: basic
2025-03-11 18:47:06,870 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 306.98ms
2025-03-11 18:47:06,870 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 18:47:06,871 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 309.14ms
2025-03-11 18:47:06,871 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:47:06,871 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 312.27ms
2025-03-11 18:47:06,872 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/damage/schema
2025-03-11 18:47:06,873 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52660 - "GET /api/tables/damage/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:47:07,321 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: drimpair, demo phase: basic
2025-03-11 18:47:07,321 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: basic
2025-03-11 18:47:07,719 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 397.69ms
2025-03-11 18:47:07,719 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 18:47:07,719 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 398.34ms
2025-03-11 18:47:07,720 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:47:07,720 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 398.68ms
2025-03-11 18:47:07,720 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drimpair/schema
2025-03-11 18:47:07,720 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52660 - "GET /api/tables/drimpair/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:47:27,818 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vehicle, demo phase: basic
2025-03-11 18:47:27,819 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: basic
2025-03-11 18:47:30,095 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 2275.81ms
2025-03-11 18:47:30,096 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 18:47:30,096 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 2276.79ms
2025-03-11 18:47:30,096 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 110 columns
2025-03-11 18:47:30,096 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 2277.98ms
2025-03-11 18:47:30,098 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vehicle/schema
2025-03-11 18:47:30,099 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52679 - "GET /api/tables/vehicle/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:47:30,100 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vehicle, demo phase: basic
2025-03-11 18:47:30,100 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: basic
2025-03-11 18:47:31,474 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 1373.51ms
2025-03-11 18:47:31,474 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 18:47:31,474 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 1374.22ms
2025-03-11 18:47:31,475 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 110 columns
2025-03-11 18:47:31,475 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 1374.49ms
2025-03-11 18:47:31,478 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vehicle/schema
2025-03-11 18:47:31,478 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:47:31,478 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:47:32,402 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 923.29ms
2025-03-11 18:47:32,402 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:47:32,403 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 924.10ms
2025-03-11 18:47:32,403 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:47:32,403 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 924.32ms
2025-03-11 18:47:32,404 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52682 - "GET /api/tables/vehicle/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:47:32,405 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:47:32,405 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52679 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:32,408 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:47:32,408 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:47:33,580 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 1172.27ms
2025-03-11 18:47:33,581 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:47:33,581 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 1172.88ms
2025-03-11 18:47:33,581 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:47:33,581 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 1173.14ms
2025-03-11 18:47:33,582 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:47:33,583 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmprior, demo phase: basic
2025-03-11 18:47:33,583 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmprior in demo phase: basic
2025-03-11 18:47:34,915 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 1331.48ms
2025-03-11 18:47:34,916 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmprior with 7 columns
2025-03-11 18:47:34,916 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 1333.07ms
2025-03-11 18:47:34,917 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 18:47:34,917 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 1333.68ms
2025-03-11 18:47:34,918 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmprior, demo phase: enhanced
2025-03-11 18:47:34,918 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmprior in demo phase: enhanced
2025-03-11 18:47:35,541 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 623.22ms
2025-03-11 18:47:35,542 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmprior with 7 columns
2025-03-11 18:47:35,542 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 624.36ms
2025-03-11 18:47:35,542 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 18:47:35,543 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 625.65ms
2025-03-11 18:47:35,545 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52682 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:35,548 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmprior/schema
2025-03-11 18:47:35,549 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmprior/schema
2025-03-11 18:47:35,549 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52679 - "GET /api/tables/nmprior/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:47:35,549 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52694 - "GET /api/tables/nmprior/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:35,557 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmprior, demo phase: enhanced
2025-03-11 18:47:35,557 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmprior in demo phase: enhanced
2025-03-11 18:47:35,961 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 404.19ms
2025-03-11 18:47:35,962 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmprior with 7 columns
2025-03-11 18:47:35,962 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 404.70ms
2025-03-11 18:47:35,962 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 18:47:35,962 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 405.24ms
2025-03-11 18:47:35,963 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmprior/schema
2025-03-11 18:47:35,964 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52682 - "GET /api/tables/nmprior/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:35,965 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmprior, demo phase: enhanced
2025-03-11 18:47:35,965 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmprior in demo phase: enhanced
2025-03-11 18:47:36,567 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 602.41ms
2025-03-11 18:47:36,568 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmprior with 7 columns
2025-03-11 18:47:36,568 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 603.30ms
2025-03-11 18:47:36,568 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 18:47:36,568 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 603.59ms
2025-03-11 18:47:36,571 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmprior/schema
2025-03-11 18:47:36,572 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: factor, demo phase: enhanced
2025-03-11 18:47:36,572 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table factor in demo phase: enhanced
2025-03-11 18:47:36,973 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 400.86ms
2025-03-11 18:47:36,973 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table factor with 6 columns
2025-03-11 18:47:36,973 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 401.50ms
2025-03-11 18:47:36,974 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:47:36,974 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 401.86ms
2025-03-11 18:47:36,974 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52694 - "GET /api/tables/nmprior/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:36,974 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/factor/schema
2025-03-11 18:47:36,975 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52682 - "GET /api/tables/factor/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:36,976 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmprior, demo phase: enhanced
2025-03-11 18:47:36,976 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmprior in demo phase: enhanced
2025-03-11 18:47:37,403 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 426.49ms
2025-03-11 18:47:37,404 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmprior with 7 columns
2025-03-11 18:47:37,404 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 427.71ms
2025-03-11 18:47:37,404 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 18:47:37,404 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 427.97ms
2025-03-11 18:47:37,405 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmprior/schema
2025-03-11 18:47:37,405 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: factor, demo phase: enhanced
2025-03-11 18:47:37,405 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table factor in demo phase: enhanced
2025-03-11 18:47:37,809 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 403.62ms
2025-03-11 18:47:37,809 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table factor with 6 columns
2025-03-11 18:47:37,809 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 403.99ms
2025-03-11 18:47:37,809 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:47:37,809 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 404.18ms
2025-03-11 18:47:37,810 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52682 - "GET /api/tables/nmprior/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:37,810 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/factor/schema
2025-03-11 18:47:37,810 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52694 - "GET /api/tables/factor/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:37,812 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: factor, demo phase: enhanced
2025-03-11 18:47:37,812 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table factor in demo phase: enhanced
2025-03-11 18:47:38,219 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 406.72ms
2025-03-11 18:47:38,219 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table factor with 6 columns
2025-03-11 18:47:38,219 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 407.20ms
2025-03-11 18:47:38,220 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:47:38,220 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 407.43ms
2025-03-11 18:47:38,220 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/factor/schema
2025-03-11 18:47:38,221 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: drimpair, demo phase: enhanced
2025-03-11 18:47:38,221 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: enhanced
2025-03-11 18:47:38,616 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 394.95ms
2025-03-11 18:47:38,616 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 18:47:38,616 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 395.44ms
2025-03-11 18:47:38,616 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:47:38,616 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 395.68ms
2025-03-11 18:47:38,617 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52694 - "GET /api/tables/factor/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:38,617 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drimpair/schema
2025-03-11 18:47:38,617 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52682 - "GET /api/tables/drimpair/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:38,619 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: drimpair, demo phase: enhanced
2025-03-11 18:47:38,619 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: enhanced
2025-03-11 18:47:39,051 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 431.85ms
2025-03-11 18:47:39,051 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 18:47:39,052 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 432.46ms
2025-03-11 18:47:39,052 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:47:39,052 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 432.83ms
2025-03-11 18:47:39,052 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drimpair/schema
2025-03-11 18:47:39,053 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52682 - "GET /api/tables/drimpair/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:47:39,056 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: cevent, demo phase: enhanced
2025-03-11 18:47:39,056 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table cevent in demo phase: enhanced
2025-03-11 18:47:39,452 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 395.71ms
2025-03-11 18:47:39,452 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table cevent with 10 columns
2025-03-11 18:47:39,452 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 396.27ms
2025-03-11 18:47:39,452 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 10 columns
2025-03-11 18:47:39,452 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 396.57ms
2025-03-11 18:47:39,453 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/cevent/schema
2025-03-11 18:47:39,453 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52682 - "GET /api/tables/cevent/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:48:01,901 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:48:01,902 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:48:02,503 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 599.81ms
2025-03-11 18:48:02,503 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:48:02,503 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 600.78ms
2025-03-11 18:48:02,503 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:48:02,503 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 601.93ms
2025-03-11 18:48:02,504 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:48:02,504 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52729 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:48:02,505 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:48:02,505 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:48:02,891 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 385.38ms
2025-03-11 18:48:02,891 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:48:02,891 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 385.87ms
2025-03-11 18:48:02,891 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:48:02,891 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 386.10ms
2025-03-11 18:48:02,892 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:48:02,892 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52729 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:48:04,327 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:48:04,327 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:48:04,767 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 439.54ms
2025-03-11 18:48:04,769 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:48:04,769 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 441.61ms
2025-03-11 18:48:04,770 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:48:04,770 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 442.64ms
2025-03-11 18:48:04,770 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:48:04,771 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52729 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:48:04,773 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:48:04,773 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:48:05,292 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 518.97ms
2025-03-11 18:48:05,292 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:48:05,292 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 519.48ms
2025-03-11 18:48:05,292 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:48:05,292 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 519.78ms
2025-03-11 18:48:05,293 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:48:05,293 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52731 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:49:50,475 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 18:49:50,587 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 18:49:50,650 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 18:49:50,662 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [8037]
2025-03-11 18:49:55,243 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 18:49:55,253 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [11498]
2025-03-11 18:49:55,253 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 18:49:55,253 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 18:50:00,363 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: drugs, demo phase: enhanced
2025-03-11 18:50:00,363 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 18:50:13,235 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 12871.39ms
2025-03-11 18:50:13,235 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 18:50:13,235 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 12872.38ms
2025-03-11 18:50:13,235 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 8 columns
2025-03-11 18:50:13,235 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 12872.99ms
2025-03-11 18:50:13,237 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drugs/schema
2025-03-11 18:50:13,237 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52916 - "GET /api/tables/drugs/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:50:13,243 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: drugs, demo phase: enhanced
2025-03-11 18:50:13,243 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 18:50:13,689 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 445.40ms
2025-03-11 18:50:13,689 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 18:50:13,689 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 445.98ms
2025-03-11 18:50:13,689 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 8 columns
2025-03-11 18:50:13,689 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 446.37ms
2025-03-11 18:50:13,690 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drugs/schema
2025-03-11 18:50:13,690 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52916 - "GET /api/tables/drugs/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:50:13,694 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: drugs, demo phase: enhanced
2025-03-11 18:50:13,694 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 18:50:14,109 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 414.35ms
2025-03-11 18:50:14,109 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 18:50:14,109 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 414.84ms
2025-03-11 18:50:14,109 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 8 columns
2025-03-11 18:50:14,109 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 415.29ms
2025-03-11 18:50:14,110 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drugs/schema
2025-03-11 18:50:14,110 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: distract, demo phase: enhanced
2025-03-11 18:50:14,110 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 18:50:14,534 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 424.09ms
2025-03-11 18:50:14,534 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 18:50:14,534 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 424.46ms
2025-03-11 18:50:14,535 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:50:14,535 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 424.62ms
2025-03-11 18:50:14,535 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52940 - "GET /api/tables/drugs/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:50:14,535 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/distract/schema
2025-03-11 18:50:14,535 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52916 - "GET /api/tables/distract/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:50:14,542 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: distract, demo phase: enhanced
2025-03-11 18:50:14,542 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 18:50:14,861 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 319.00ms
2025-03-11 18:50:14,861 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 18:50:14,861 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 319.52ms
2025-03-11 18:50:14,862 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:50:14,862 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 319.77ms
2025-03-11 18:50:14,862 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/distract/schema
2025-03-11 18:50:14,862 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52916 - "GET /api/tables/distract/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:50:14,866 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 18:50:14,866 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 18:50:15,700 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 833.69ms
2025-03-11 18:50:15,700 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 18:50:15,700 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 834.12ms
2025-03-11 18:50:15,700 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 54 columns
2025-03-11 18:50:15,700 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 834.43ms
2025-03-11 18:50:15,701 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 18:50:15,701 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52916 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:50:23,062 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52950 - "OPTIONS /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:50:23,078 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: drugs, additional tables: distract, accident
2025-03-11 18:50:23,079 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 18:50:23,610 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 530.17ms
2025-03-11 18:50:23,610 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 18:50:23,610 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 531.15ms
2025-03-11 18:50:23,611 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 18:50:24,288 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 677.44ms
2025-03-11 18:50:24,288 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 18:50:24,289 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 678.00ms
2025-03-11 18:50:24,289 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 18:50:24,929 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 640.19ms
2025-03-11 18:50:24,930 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 18:50:24,930 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 641.28ms
2025-03-11 18:50:24,930 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table drugs (size: 5) in demo phase: enhanced
2025-03-11 18:50:26,659 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1728.60ms
2025-03-11 18:50:26,659 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table drugs
2025-03-11 18:50:26,659 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1729.12ms
2025-03-11 18:50:26,659 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:302 - Generating enhanced SQL for question: Number of accidents caused by drivers smoking marijuana
2025-03-11 18:50:27,216 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.07ms
2025-03-11 18:50:27,217 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:526 - Running LangGraph agent for enhanced SQL generation
2025-03-11 18:50:33,911 - app.utils.performance - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:99 - Operation 'gemini_api_call' failed after 6688.77ms
2025-03-11 18:50:33,914 - app.services.nl2sql_service - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:553 - Error generating enhanced SQL: Cannot get the response text.
Cannot get the Candidate text.
Response candidate content has no parts (and thus no text). The candidate is likely blocked by the safety filters.
Content:
{}
Candidate:
{
  "content": {},
  "finish_reason": "SAFETY",
  "safety_ratings": [
    {
      "category": "HARM_CATEGORY_HATE_SPEECH",
      "probability": "NEGLIGIBLE",
      "probability_score": 0.15722656,
      "severity": "HARM_SEVERITY_LOW",
      "severity_score": 0.24511719
    },
    {
      "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
      "probability": "MEDIUM",
      "blocked": true,
      "probability_score": 0.76171875,
      "severity": "HARM_SEVERITY_MEDIUM",
      "severity_score": 0.68359375
    },
    {
      "category": "HARM_CATEGORY_HARASSMENT",
      "probability": "NEGLIGIBLE",
      "probability_score": 0.22363281,
      "severity": "HARM_SEVERITY_NEGLIGIBLE",
      "severity_score": 0.119140625
    },
    {
      "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
      "probability": "NEGLIGIBLE",
      "probability_score": 0.14550781,
      "severity": "HARM_SEVERITY_LOW",
      "severity_score": 0.29101562
    }
  ]
}
Response:
{
  "candidates": [
    {
      "content": {},
      "finish_reason": "SAFETY",
      "safety_ratings": [
        {
          "category": "HARM_CATEGORY_HATE_SPEECH",
          "probability": "NEGLIGIBLE",
          "probability_score": 0.15722656,
          "severity": "HARM_SEVERITY_LOW",
          "severity_score": 0.24511719
        },
        {
          "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
          "probability": "MEDIUM",
          "blocked": true,
          "probability_score": 0.76171875,
          "severity": "HARM_SEVERITY_MEDIUM",
          "severity_score": 0.68359375
        },
        {
          "category": "HARM_CATEGORY_HARASSMENT",
          "probability": "NEGLIGIBLE",
          "probability_score": 0.22363281,
          "severity": "HARM_SEVERITY_NEGLIGIBLE",
          "severity_score": 0.119140625
        },
        {
          "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
          "probability": "NEGLIGIBLE",
          "probability_score": 0.14550781,
          "severity": "HARM_SEVERITY_LOW",
          "severity_score": 0.29101562
        }
      ]
    }
  ],
  "usage_metadata": {
    "prompt_token_count": 11572,
    "total_token_count": 11572
  },
  "model_version": "gemini-1.5-pro-001"
}
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 2408, in text
    return self.content.text
           ^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 2486, in text
    raise ValueError(
ValueError: Response candidate content has no parts (and thus no text). The candidate is likely blocked by the safety filters.
Content:
{}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 2319, in text
    return self.candidates[0].text
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 2412, in text
    raise ValueError(
ValueError: Cannot get the Candidate text.
Response candidate content has no parts (and thus no text). The candidate is likely blocked by the safety filters.
Content:
{}
Candidate:
{
  "content": {},
  "finish_reason": "SAFETY",
  "safety_ratings": [
    {
      "category": "HARM_CATEGORY_HATE_SPEECH",
      "probability": "NEGLIGIBLE",
      "probability_score": 0.15722656,
      "severity": "HARM_SEVERITY_LOW",
      "severity_score": 0.24511719
    },
    {
      "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
      "probability": "MEDIUM",
      "blocked": true,
      "probability_score": 0.76171875,
      "severity": "HARM_SEVERITY_MEDIUM",
      "severity_score": 0.68359375
    },
    {
      "category": "HARM_CATEGORY_HARASSMENT",
      "probability": "NEGLIGIBLE",
      "probability_score": 0.22363281,
      "severity": "HARM_SEVERITY_NEGLIGIBLE",
      "severity_score": 0.119140625
    },
    {
      "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
      "probability": "NEGLIGIBLE",
      "probability_score": 0.14550781,
      "severity": "HARM_SEVERITY_LOW",
      "severity_score": 0.29101562
    }
  ]
}

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 527, in generate_enhanced_sql
    result = await app.ainvoke(initial_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/__init__.py", line 1588, in ainvoke
    async for chunk in self.astream(
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/__init__.py", line 1477, in astream
    async for _ in runner.atick(
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/runner.py", line 130, in atick
    await arun_with_retry(t, retry_policy, stream=self.use_astream)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/retry.py", line 102, in arun_with_retry
    await task.proc.ainvoke(task.input, config)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/utils/runnable.py", line 453, in ainvoke
    input = await asyncio.create_task(coro, context=context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/utils/runnable.py", line 236, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 380, in generate_sql
    response_text = await generate_text(prompt, max_output_tokens=VERTEX_AI_MAX_OUTPUT_TOKENS)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 71, in generate_text
    response_text = response.text
                    ^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 2323, in text
    raise ValueError(
ValueError: Cannot get the response text.
Cannot get the Candidate text.
Response candidate content has no parts (and thus no text). The candidate is likely blocked by the safety filters.
Content:
{}
Candidate:
{
  "content": {},
  "finish_reason": "SAFETY",
  "safety_ratings": [
    {
      "category": "HARM_CATEGORY_HATE_SPEECH",
      "probability": "NEGLIGIBLE",
      "probability_score": 0.15722656,
      "severity": "HARM_SEVERITY_LOW",
      "severity_score": 0.24511719
    },
    {
      "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
      "probability": "MEDIUM",
      "blocked": true,
      "probability_score": 0.76171875,
      "severity": "HARM_SEVERITY_MEDIUM",
      "severity_score": 0.68359375
    },
    {
      "category": "HARM_CATEGORY_HARASSMENT",
      "probability": "NEGLIGIBLE",
      "probability_score": 0.22363281,
      "severity": "HARM_SEVERITY_NEGLIGIBLE",
      "severity_score": 0.119140625
    },
    {
      "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
      "probability": "NEGLIGIBLE",
      "probability_score": 0.14550781,
      "severity": "HARM_SEVERITY_LOW",
      "severity_score": 0.29101562
    }
  ]
}
Response:
{
  "candidates": [
    {
      "content": {},
      "finish_reason": "SAFETY",
      "safety_ratings": [
        {
          "category": "HARM_CATEGORY_HATE_SPEECH",
          "probability": "NEGLIGIBLE",
          "probability_score": 0.15722656,
          "severity": "HARM_SEVERITY_LOW",
          "severity_score": 0.24511719
        },
        {
          "category": "HARM_CATEGORY_DANGEROUS_CONTENT",
          "probability": "MEDIUM",
          "blocked": true,
          "probability_score": 0.76171875,
          "severity": "HARM_SEVERITY_MEDIUM",
          "severity_score": 0.68359375
        },
        {
          "category": "HARM_CATEGORY_HARASSMENT",
          "probability": "NEGLIGIBLE",
          "probability_score": 0.22363281,
          "severity": "HARM_SEVERITY_NEGLIGIBLE",
          "severity_score": 0.119140625
        },
        {
          "category": "HARM_CATEGORY_SEXUALLY_EXPLICIT",
          "probability": "NEGLIGIBLE",
          "probability_score": 0.14550781,
          "severity": "HARM_SEVERITY_LOW",
          "severity_score": 0.29101562
        }
      ]
    }
  ],
  "usage_metadata": {
    "prompt_token_count": 11572,
    "total_token_count": 11572
  },
  "model_version": "gemini-1.5-pro-001"
}
2025-03-11 18:50:33,926 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 7266.38ms
2025-03-11 18:50:33,926 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Number of accidents caused by ...
2025-03-11 18:50:33,926 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 28
2025-03-11 18:50:33,926 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 10848.15ms
2025-03-11 18:50:33,928 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 18:50:33,928 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52950 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:52:16,950 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 18:52:17,081 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 18:52:17,085 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 18:52:17,087 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [11498]
2025-03-11 18:52:23,107 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 18:52:23,118 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [13519]
2025-03-11 18:52:23,118 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 18:52:23,119 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 18:52:43,362 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 18:52:43,465 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 18:52:43,465 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 18:52:43,466 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [13519]
2025-03-11 18:52:46,360 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 18:52:46,372 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [13788]
2025-03-11 18:52:46,372 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 18:52:46,373 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 18:53:05,219 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 18:53:05,321 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 18:53:05,322 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 18:53:05,322 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [13788]
2025-03-11 18:53:09,210 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 18:53:09,221 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [14051]
2025-03-11 18:53:09,221 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 18:53:09,222 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 18:54:17,717 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: distract, demo phase: enhanced
2025-03-11 18:54:17,725 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 18:54:36,863 - urllib3.connectionpool - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:868 - Retrying (Retry(total=2, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(SSLEOFError(8, '[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1006)'))': /token
2025-03-11 18:55:02,978 - urllib3.connectionpool - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:868 - Retrying (Retry(total=1, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(SSLEOFError(8, '[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1006)'))': /token
2025-03-11 18:55:29,888 - urllib3.connectionpool - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:868 - Retrying (Retry(total=0, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(SSLEOFError(8, '[SSL: UNEXPECTED_EOF_WHILE_READING] EOF occurred in violation of protocol (_ssl.c:1006)'))': /token
2025-03-11 18:55:35,925 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 78187.04ms
2025-03-11 18:55:35,934 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 18:55:35,936 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 78210.54ms
2025-03-11 18:55:35,939 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 18:55:35,939 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 78222.47ms
2025-03-11 18:55:36,007 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/distract/schema
2025-03-11 18:55:36,077 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:55:36,078 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:55:36,681 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 603.47ms
2025-03-11 18:55:36,682 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:36,682 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 604.76ms
2025-03-11 18:55:36,682 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:36,682 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 605.16ms
2025-03-11 18:55:36,683 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:55:36,683 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:55:37,498 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 814.90ms
2025-03-11 18:55:37,501 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:37,502 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 819.24ms
2025-03-11 18:55:37,502 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:37,503 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 820.16ms
2025-03-11 18:55:37,507 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:55:37,508 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:55:39,627 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 2116.72ms
2025-03-11 18:55:39,630 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:39,631 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 2122.75ms
2025-03-11 18:55:39,631 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:39,631 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 2123.96ms
2025-03-11 18:55:39,638 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:55:39,638 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:55:41,063 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 1425.24ms
2025-03-11 18:55:41,064 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:41,064 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 1426.54ms
2025-03-11 18:55:41,064 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:41,064 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 1427.60ms
2025-03-11 18:55:41,081 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:55:41,115 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:55:41,788 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 660.49ms
2025-03-11 18:55:41,788 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:41,788 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 673.35ms
2025-03-11 18:55:41,788 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:41,788 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 721.34ms
2025-03-11 18:55:41,796 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:55:41,821 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:55:44,780 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 2914.72ms
2025-03-11 18:55:45,424 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:45,432 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 3609.78ms
2025-03-11 18:55:45,435 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:45,437 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 3640.57ms
2025-03-11 18:55:45,464 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:55:45,464 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:55:45,868 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 401.42ms
2025-03-11 18:55:45,871 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:45,872 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 407.44ms
2025-03-11 18:55:45,872 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:45,872 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 408.82ms
2025-03-11 18:55:45,873 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:55:45,874 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:55:46,206 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 332.60ms
2025-03-11 18:55:46,207 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:46,207 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 333.83ms
2025-03-11 18:55:46,207 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:46,208 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 334.25ms
2025-03-11 18:55:46,219 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:46,219 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:46,220 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:46,221 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:46,222 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:46,222 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:46,222 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:46,223 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:46,227 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53353 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:55:46,229 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53359 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:55:46,230 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53486 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:55:46,230 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53489 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:55:46,230 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53492 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:55:46,230 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53493 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:55:46,259 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:55:46,260 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:55:46,701 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 441.22ms
2025-03-11 18:55:46,702 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:46,702 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 442.13ms
2025-03-11 18:55:46,702 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:46,702 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 442.55ms
2025-03-11 18:55:46,703 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 18:55:46,703 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 18:55:47,094 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 391.29ms
2025-03-11 18:55:47,341 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:47,341 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 638.30ms
2025-03-11 18:55:47,341 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:47,341 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 638.55ms
2025-03-11 18:55:47,343 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:47,344 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:55:47,344 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:55:47,682 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 337.62ms
2025-03-11 18:55:47,682 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:47,682 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 338.05ms
2025-03-11 18:55:47,682 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:47,682 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 338.28ms
2025-03-11 18:55:47,682 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 18:55:47,682 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 18:55:48,049 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 366.12ms
2025-03-11 18:55:48,049 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 18:55:48,049 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 366.69ms
2025-03-11 18:55:48,050 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 18:55:48,050 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 367.58ms
2025-03-11 18:55:48,050 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53353 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:55:48,051 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:48,051 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53359 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 18:55:48,051 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:48,051 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 18:55:48,052 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53486 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:55:48,052 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53489 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 18:57:26,640 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 18:57:26,747 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 18:57:26,750 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 18:57:26,751 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [14051]
2025-03-11 18:57:32,974 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 18:57:32,983 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [17491]
2025-03-11 18:57:32,983 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 18:57:32,983 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 18:57:37,053 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: drugs, additional tables: distract, accident
2025-03-11 18:57:37,053 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 18:57:37,722 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 668.99ms
2025-03-11 18:57:37,722 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 18:57:37,722 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 669.55ms
2025-03-11 18:57:37,722 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 18:57:38,024 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 301.22ms
2025-03-11 18:57:38,024 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 18:57:38,024 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 301.74ms
2025-03-11 18:57:38,024 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 18:57:38,400 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 375.95ms
2025-03-11 18:57:38,400 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 18:57:38,401 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 376.47ms
2025-03-11 18:57:38,401 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table drugs (size: 5) in demo phase: enhanced
2025-03-11 18:57:39,636 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1235.45ms
2025-03-11 18:57:39,637 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table drugs
2025-03-11 18:57:39,637 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1235.95ms
2025-03-11 18:57:39,637 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:312 - Generating enhanced SQL for question: Number of accidents caused by drivers smoking marijuana
2025-03-11 18:57:40,187 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.06ms
2025-03-11 18:57:40,187 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:536 - Running LangGraph agent for enhanced SQL generation
2025-03-11 18:57:40,205 - app.utils.performance - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:99 - Operation 'gemini_api_call' failed after 13.15ms
2025-03-11 18:57:40,206 - app.services.nl2sql_service - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:563 - Error generating enhanced SQL: 'HARASSMENT' is not a valid HarmCategory
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 537, in generate_enhanced_sql
    result = await app.ainvoke(initial_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/__init__.py", line 1588, in ainvoke
    async for chunk in self.astream(
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/__init__.py", line 1477, in astream
    async for _ in runner.atick(
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/runner.py", line 130, in atick
    await arun_with_retry(t, retry_policy, stream=self.use_astream)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/retry.py", line 102, in arun_with_retry
    await task.proc.ainvoke(task.input, config)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/utils/runnable.py", line 453, in ainvoke
    input = await asyncio.create_task(coro, context=context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/utils/runnable.py", line 236, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 390, in generate_sql
    response_text = await generate_text(prompt, max_output_tokens=VERTEX_AI_MAX_OUTPUT_TOKENS)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 74, in generate_text
    response = await asyncio.to_thread(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 654, in generate_content
    return self._generate_content(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 771, in _generate_content
    request = self._prepare_request(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 3201, in _prepare_request
    request_v1beta1 = super()._prepare_request(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 544, in _prepare_request
    gapic_safety_settings = [
                            ^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 546, in <listcomp>
    category=gapic_content_types.HarmCategory(category),
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/enum.py", line 712, in __call__
    return cls.__new__(cls, value)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/enum.py", line 1135, in __new__
    raise ve_exc
ValueError: 'HARASSMENT' is not a valid HarmCategory
2025-03-11 18:57:40,213 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 576.39ms
2025-03-11 18:57:40,213 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Number of accidents caused by ...
2025-03-11 18:57:40,213 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 28
2025-03-11 18:57:40,213 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 3160.89ms
2025-03-11 18:57:40,214 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 18:57:40,214 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:54007 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:03:54,522 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:03:54,746 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:03:54,820 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:03:54,837 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [17491]
2025-03-11 19:04:03,004 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:04:03,014 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [22485]
2025-03-11 19:04:03,014 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:04:03,014 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:11:25,495 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:11:25,614 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:11:25,628 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:11:25,634 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [22485]
2025-03-11 19:11:29,474 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:11:29,482 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [28268]
2025-03-11 19:11:29,482 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:11:29,482 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:11:35,371 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55662 - "OPTIONS /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:11:35,387 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: drugs, additional tables: distract, accident
2025-03-11 19:11:35,387 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 19:11:36,187 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 800.05ms
2025-03-11 19:11:36,187 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 19:11:36,188 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 800.68ms
2025-03-11 19:11:36,188 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 19:11:36,510 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 322.31ms
2025-03-11 19:11:36,510 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 19:11:36,510 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 322.73ms
2025-03-11 19:11:36,511 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:11:36,836 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 325.59ms
2025-03-11 19:11:36,837 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:11:36,837 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 326.52ms
2025-03-11 19:11:36,837 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table drugs (size: 5) in demo phase: enhanced
2025-03-11 19:11:38,044 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1206.31ms
2025-03-11 19:11:38,044 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table drugs
2025-03-11 19:11:38,044 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1206.81ms
2025-03-11 19:11:38,044 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:325 - Generating enhanced SQL for question: Number of accidents caused by drivers smoking marijuana
2025-03-11 19:11:38,474 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.06ms
2025-03-11 19:11:38,475 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:549 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:11:38,486 - app.utils.performance - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:99 - Operation 'gemini_api_call' failed after 6.75ms
2025-03-11 19:11:38,486 - app.services.nl2sql_service - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:576 - Error generating enhanced SQL: When passing a list with SafetySettings objects, every item in a list must be a SafetySetting object.
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 550, in generate_enhanced_sql
    result = await app.ainvoke(initial_state)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/__init__.py", line 1588, in ainvoke
    async for chunk in self.astream(
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/__init__.py", line 1477, in astream
    async for _ in runner.atick(
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/runner.py", line 130, in atick
    await arun_with_retry(t, retry_policy, stream=self.use_astream)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/pregel/retry.py", line 102, in arun_with_retry
    await task.proc.ainvoke(task.input, config)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/utils/runnable.py", line 453, in ainvoke
    input = await asyncio.create_task(coro, context=context)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/langgraph/utils/runnable.py", line 236, in ainvoke
    ret = await asyncio.create_task(coro, context=context)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 403, in generate_sql
    response_text = await generate_text(prompt, max_output_tokens=VERTEX_AI_MAX_OUTPUT_TOKENS)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py", line 87, in generate_text
    response = await asyncio.to_thread(
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 654, in generate_content
    return self._generate_content(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 771, in _generate_content
    request = self._prepare_request(
              ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 3201, in _prepare_request
    request_v1beta1 = super()._prepare_request(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 506, in _prepare_request
    _validate_generate_content_parameters(
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 177, in _validate_generate_content_parameters
    _validate_safety_settings_type_as_valid_sequence(safety_settings)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/vertexai/generative_models/_generative_models.py", line 240, in _validate_safety_settings_type_as_valid_sequence
    raise TypeError(
TypeError: When passing a list with SafetySettings objects, every item in a list must be a SafetySetting object.
2025-03-11 19:11:38,492 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 447.78ms
2025-03-11 19:11:38,492 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Number of accidents caused by ...
2025-03-11 19:11:38,492 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 28
2025-03-11 19:11:38,492 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 3105.60ms
2025-03-11 19:11:38,492 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:11:38,493 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55662 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:13:34,403 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:13:34,407 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:13:42,404 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 7996.75ms
2025-03-11 19:13:42,406 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:13:42,406 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 7998.96ms
2025-03-11 19:13:42,406 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:13:42,406 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 8003.31ms
2025-03-11 19:13:42,411 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:13:42,412 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55786 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:13:42,423 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:13:42,423 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:13:50,129 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 7705.77ms
2025-03-11 19:13:50,131 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:13:50,131 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 7708.27ms
2025-03-11 19:13:50,131 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:13:50,131 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 7708.70ms
2025-03-11 19:13:50,136 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:13:50,136 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55786 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:13:50,141 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:13:50,141 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:13:52,793 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 2651.30ms
2025-03-11 19:13:52,798 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:13:52,798 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 2656.76ms
2025-03-11 19:13:52,799 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:13:52,799 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 2657.89ms
2025-03-11 19:13:52,807 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:13:52,809 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55786 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:13:52,815 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:13:52,815 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:13:53,356 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 540.07ms
2025-03-11 19:13:53,356 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:13:53,356 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 540.56ms
2025-03-11 19:13:53,356 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:13:53,356 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 540.86ms
2025-03-11 19:13:53,357 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:13:53,357 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55840 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:14:33,690 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:14:33,796 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:14:33,799 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:14:33,800 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [28268]
2025-03-11 19:14:37,659 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:14:37,674 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [30499]
2025-03-11 19:14:37,674 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:14:37,675 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:14:55,661 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:14:55,767 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:14:55,774 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:14:55,774 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [30499]
2025-03-11 19:14:59,241 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:14:59,250 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [30798]
2025-03-11 19:14:59,250 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:14:59,250 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:16:54,673 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:16:54,779 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:16:54,783 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:16:54,786 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [30798]
2025-03-11 19:16:59,422 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:16:59,431 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [32380]
2025-03-11 19:16:59,432 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:16:59,432 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:16:59,436 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: drugs, additional tables: distract, accident
2025-03-11 19:16:59,436 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 19:17:00,910 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 1473.44ms
2025-03-11 19:17:00,910 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 19:17:00,910 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 1474.16ms
2025-03-11 19:17:00,910 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 19:17:01,274 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 363.23ms
2025-03-11 19:17:01,274 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 19:17:01,274 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 364.03ms
2025-03-11 19:17:01,275 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:17:01,832 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 556.89ms
2025-03-11 19:17:01,832 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:17:01,832 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 557.81ms
2025-03-11 19:17:01,833 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table drugs (size: 5) in demo phase: enhanced
2025-03-11 19:17:03,328 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1494.90ms
2025-03-11 19:17:03,328 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table drugs
2025-03-11 19:17:03,328 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1495.49ms
2025-03-11 19:17:03,328 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:335 - Generating enhanced SQL for question: Number of accidents caused by drivers smoking marijuana
2025-03-11 19:17:03,753 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.06ms
2025-03-11 19:17:03,754 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:559 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:17:18,934 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 15176.22ms
2025-03-11 19:17:27,618 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 8680.62ms
2025-03-11 19:17:27,625 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 24296.59ms
2025-03-11 19:17:27,625 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Number of accidents caused by ...
2025-03-11 19:17:27,625 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 437
2025-03-11 19:17:27,626 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 28189.63ms
2025-03-11 19:17:27,627 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:17:27,627 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56109 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:18:35,749 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: drugs, additional tables: distract, accident
2025-03-11 19:18:35,751 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 19:18:36,281 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 527.60ms
2025-03-11 19:18:36,281 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 19:18:36,281 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 529.54ms
2025-03-11 19:18:36,281 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 19:18:36,662 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 381.30ms
2025-03-11 19:18:36,663 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 19:18:36,663 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 381.72ms
2025-03-11 19:18:36,663 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:18:37,001 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 338.28ms
2025-03-11 19:18:37,002 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:18:37,002 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 338.86ms
2025-03-11 19:18:37,002 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table drugs (size: 5) in demo phase: enhanced
2025-03-11 19:18:38,426 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1424.07ms
2025-03-11 19:18:38,426 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table drugs
2025-03-11 19:18:38,427 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1424.75ms
2025-03-11 19:18:38,427 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:335 - Generating enhanced SQL for question: Number of accidents caused by drivers smoking marijuana or taking cannabinoids
2025-03-11 19:18:38,428 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.09ms
2025-03-11 19:18:38,429 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:559 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:18:45,025 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 6592.48ms
2025-03-11 19:18:56,193 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 11161.98ms
2025-03-11 19:18:56,200 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 17772.12ms
2025-03-11 19:18:56,200 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Number of accidents caused by ...
2025-03-11 19:18:56,200 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 369
2025-03-11 19:18:56,201 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 20452.52ms
2025-03-11 19:18:56,203 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:18:56,204 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56256 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:55,561 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: accident_view, demo phase: enhanced
2025-03-11 19:19:55,566 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident_view in demo phase: enhanced
2025-03-11 19:19:55,918 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 349.97ms
2025-03-11 19:19:55,918 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident_view with 54 columns
2025-03-11 19:19:55,918 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 353.26ms
2025-03-11 19:19:55,918 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 54 columns
2025-03-11 19:19:55,918 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 357.72ms
2025-03-11 19:19:55,919 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident_view/schema
2025-03-11 19:19:55,919 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/accident_view/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:55,923 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: car_statistcs, demo phase: enhanced
2025-03-11 19:19:55,924 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: enhanced
2025-03-11 19:19:56,262 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 338.31ms
2025-03-11 19:19:56,262 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 19:19:56,262 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 338.68ms
2025-03-11 19:19:56,262 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 5 columns
2025-03-11 19:19:56,262 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 338.92ms
2025-03-11 19:19:56,263 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/car_statistcs/schema
2025-03-11 19:19:56,263 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/car_statistcs/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:56,267 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: cevent, demo phase: enhanced
2025-03-11 19:19:56,267 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table cevent in demo phase: enhanced
2025-03-11 19:19:56,602 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 334.86ms
2025-03-11 19:19:56,603 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table cevent with 10 columns
2025-03-11 19:19:56,603 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 335.60ms
2025-03-11 19:19:56,603 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 10 columns
2025-03-11 19:19:56,603 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 335.88ms
2025-03-11 19:19:56,604 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/cevent/schema
2025-03-11 19:19:56,604 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/cevent/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:56,610 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: damage, demo phase: enhanced
2025-03-11 19:19:56,611 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: enhanced
2025-03-11 19:19:56,930 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 319.62ms
2025-03-11 19:19:56,930 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 19:19:56,931 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 320.00ms
2025-03-11 19:19:56,931 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:19:56,931 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 320.29ms
2025-03-11 19:19:56,931 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/damage/schema
2025-03-11 19:19:56,931 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/damage/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:56,935 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: drimpair, demo phase: enhanced
2025-03-11 19:19:56,935 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: enhanced
2025-03-11 19:19:57,288 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 352.63ms
2025-03-11 19:19:57,288 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 19:19:57,289 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 353.22ms
2025-03-11 19:19:57,289 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:19:57,289 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 353.96ms
2025-03-11 19:19:57,290 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drimpair/schema
2025-03-11 19:19:57,290 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/drimpair/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:57,292 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: factor, demo phase: enhanced
2025-03-11 19:19:57,292 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table factor in demo phase: enhanced
2025-03-11 19:19:57,678 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 385.64ms
2025-03-11 19:19:57,678 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table factor with 6 columns
2025-03-11 19:19:57,678 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 386.04ms
2025-03-11 19:19:57,678 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:19:57,678 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 386.26ms
2025-03-11 19:19:57,679 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/factor/schema
2025-03-11 19:19:57,679 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/factor/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:57,685 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: maneuver, demo phase: enhanced
2025-03-11 19:19:57,685 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table maneuver in demo phase: enhanced
2025-03-11 19:19:58,029 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 344.01ms
2025-03-11 19:19:58,030 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table maneuver with 6 columns
2025-03-11 19:19:58,030 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 344.64ms
2025-03-11 19:19:58,030 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:19:58,030 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 344.95ms
2025-03-11 19:19:58,031 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/maneuver/schema
2025-03-11 19:19:58,031 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/maneuver/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:58,034 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmcrash, demo phase: enhanced
2025-03-11 19:19:58,034 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmcrash in demo phase: enhanced
2025-03-11 19:19:58,348 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 313.98ms
2025-03-11 19:19:58,348 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmcrash with 7 columns
2025-03-11 19:19:58,348 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 314.42ms
2025-03-11 19:19:58,348 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 19:19:58,348 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 314.70ms
2025-03-11 19:19:58,349 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmcrash/schema
2025-03-11 19:19:58,349 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/nmcrash/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:58,351 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmimpair, demo phase: enhanced
2025-03-11 19:19:58,351 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmimpair in demo phase: enhanced
2025-03-11 19:19:58,692 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 340.33ms
2025-03-11 19:19:58,692 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmimpair with 7 columns
2025-03-11 19:19:58,692 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 341.00ms
2025-03-11 19:19:58,693 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 19:19:58,693 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 341.65ms
2025-03-11 19:19:58,693 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmimpair/schema
2025-03-11 19:19:58,694 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/nmimpair/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:58,698 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmprior, demo phase: enhanced
2025-03-11 19:19:58,698 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmprior in demo phase: enhanced
2025-03-11 19:19:59,060 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 361.11ms
2025-03-11 19:19:59,060 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmprior with 7 columns
2025-03-11 19:19:59,060 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 361.65ms
2025-03-11 19:19:59,060 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 19:19:59,060 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 361.98ms
2025-03-11 19:19:59,060 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmprior/schema
2025-03-11 19:19:59,061 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/nmprior/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:59,063 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: person, demo phase: enhanced
2025-03-11 19:19:59,064 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:19:59,459 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 395.24ms
2025-03-11 19:19:59,459 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:19:59,459 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 395.67ms
2025-03-11 19:19:59,459 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 70 columns
2025-03-11 19:19:59,459 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 396.02ms
2025-03-11 19:19:59,461 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/person/schema
2025-03-11 19:19:59,461 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/person/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:59,464 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: safetyeq, demo phase: enhanced
2025-03-11 19:19:59,465 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table safetyeq in demo phase: enhanced
2025-03-11 19:19:59,806 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 341.65ms
2025-03-11 19:19:59,807 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table safetyeq with 12 columns
2025-03-11 19:19:59,807 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 342.04ms
2025-03-11 19:19:59,807 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 12 columns
2025-03-11 19:19:59,807 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 342.30ms
2025-03-11 19:19:59,807 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/safetyeq/schema
2025-03-11 19:19:59,807 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/safetyeq/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:19:59,809 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vehicle, demo phase: enhanced
2025-03-11 19:19:59,810 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: enhanced
2025-03-11 19:20:00,219 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 409.00ms
2025-03-11 19:20:00,219 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 19:20:00,219 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 409.58ms
2025-03-11 19:20:00,219 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 110 columns
2025-03-11 19:20:00,219 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 409.96ms
2025-03-11 19:20:00,222 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vehicle/schema
2025-03-11 19:20:00,222 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/vehicle/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:20:00,225 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vevent, demo phase: enhanced
2025-03-11 19:20:00,225 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vevent in demo phase: enhanced
2025-03-11 19:20:00,562 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 337.17ms
2025-03-11 19:20:00,563 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vevent with 12 columns
2025-03-11 19:20:00,563 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 337.60ms
2025-03-11 19:20:00,563 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 12 columns
2025-03-11 19:20:00,563 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 337.86ms
2025-03-11 19:20:00,563 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vevent/schema
2025-03-11 19:20:00,563 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/vevent/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:20:00,566 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: violatn, demo phase: enhanced
2025-03-11 19:20:00,566 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table violatn in demo phase: enhanced
2025-03-11 19:20:00,908 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 342.09ms
2025-03-11 19:20:00,909 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table violatn with 6 columns
2025-03-11 19:20:00,909 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 342.53ms
2025-03-11 19:20:00,909 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:20:00,909 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 342.80ms
2025-03-11 19:20:00,909 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/violatn/schema
2025-03-11 19:20:00,909 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/violatn/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:20:00,912 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vision, demo phase: enhanced
2025-03-11 19:20:00,912 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vision in demo phase: enhanced
2025-03-11 19:20:01,260 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 347.59ms
2025-03-11 19:20:01,260 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vision with 6 columns
2025-03-11 19:20:01,260 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 347.99ms
2025-03-11 19:20:01,260 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:20:01,260 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 348.31ms
2025-03-11 19:20:01,261 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vision/schema
2025-03-11 19:20:01,261 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/vision/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:20:01,264 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vsoe, demo phase: enhanced
2025-03-11 19:20:01,264 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vsoe in demo phase: enhanced
2025-03-11 19:20:01,565 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 301.08ms
2025-03-11 19:20:01,565 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vsoe with 8 columns
2025-03-11 19:20:01,565 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 301.53ms
2025-03-11 19:20:01,566 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 8 columns
2025-03-11 19:20:01,566 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 301.79ms
2025-03-11 19:20:01,566 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vsoe/schema
2025-03-11 19:20:01,566 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "GET /api/tables/vsoe/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:20:01,579 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "OPTIONS /api/tools/suggest-tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:20:01,585 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:383 - Suggesting tables for question: Number of accidents caused by drivers smoking marijuana or taking cannabinoids
2025-03-11 19:20:01,585 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:946 - Suggesting tables for question: Number of accidents caused by drivers smoking marijuana or taking cannabinoids
2025-03-11 19:20:04,599 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3012.60ms
2025-03-11 19:20:04,599 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:994 - Suggested tables: ['drugs']
2025-03-11 19:20:04,599 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.suggest_tables_for_question executed in 3013.91ms
2025-03-11 19:20:04,599 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:392 - Suggested 1 tables for the question
2025-03-11 19:20:04,600 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/tools/suggest-tables
2025-03-11 19:20:04,600 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56356 - "POST /api/tools/suggest-tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:20:19,291 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: drugs, additional tables: 
2025-03-11 19:20:19,293 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 19:20:19,720 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 426.29ms
2025-03-11 19:20:19,720 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 19:20:19,720 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 427.43ms
2025-03-11 19:20:19,720 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table drugs (size: 5) in demo phase: enhanced
2025-03-11 19:20:21,606 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1885.75ms
2025-03-11 19:20:21,606 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table drugs
2025-03-11 19:20:21,607 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1886.29ms
2025-03-11 19:20:21,607 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:335 - Generating enhanced SQL for question: Number of accidents caused by drivers smoking marijuana or taking cannabinoids
2025-03-11 19:20:21,607 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.02ms
2025-03-11 19:20:21,615 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:559 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:20:26,200 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 4580.60ms
2025-03-11 19:20:33,398 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 7195.39ms
2025-03-11 19:20:33,473 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 11866.60ms
2025-03-11 19:20:33,474 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Number of accidents caused by ...
2025-03-11 19:20:33,474 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 95
2025-03-11 19:20:33,474 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 14184.75ms
2025-03-11 19:20:33,482 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:20:33,484 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56383 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:22:27,815 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:22:27,925 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:22:27,932 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:22:27,933 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [32380]
2025-03-11 19:22:34,101 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:22:34,110 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [36674]
2025-03-11 19:22:34,110 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:22:34,110 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:23:22,839 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:383 - Suggesting tables for question: Number of accidents caused by drivers smoking marijuana or taking cannabinoids
2025-03-11 19:23:22,840 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:946 - Suggesting tables for question: Number of accidents caused by drivers smoking marijuana or taking cannabinoids
2025-03-11 19:23:27,327 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 4483.91ms
2025-03-11 19:23:27,327 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:1015 - Suggested tables: ['drugs']
2025-03-11 19:23:27,328 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.suggest_tables_for_question executed in 4487.68ms
2025-03-11 19:23:27,328 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:392 - Suggested 1 tables for the question
2025-03-11 19:23:27,329 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/tools/suggest-tables
2025-03-11 19:23:27,329 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56602 - "POST /api/tools/suggest-tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:23:42,682 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:383 - Suggesting tables for question: Most deadly car brand
2025-03-11 19:23:42,683 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:946 - Suggesting tables for question: Most deadly car brand
2025-03-11 19:23:45,758 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3074.76ms
2025-03-11 19:23:45,759 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:1015 - Suggested tables: ['accident', 'car_statistcs', 'person', 'vehicle']
2025-03-11 19:23:45,759 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.suggest_tables_for_question executed in 3076.79ms
2025-03-11 19:23:45,760 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:392 - Suggested 4 tables for the question
2025-03-11 19:23:45,761 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/tools/suggest-tables
2025-03-11 19:23:45,761 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56636 - "POST /api/tools/suggest-tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:23:51,162 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56648 - "OPTIONS /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:23:51,165 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: accident, additional tables: car_statistcs, person, vehicle
2025-03-11 19:23:51,165 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:23:51,813 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 647.99ms
2025-03-11 19:23:51,814 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:23:51,814 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 648.54ms
2025-03-11 19:23:51,814 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: enhanced
2025-03-11 19:23:52,133 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 318.94ms
2025-03-11 19:23:52,133 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 19:23:52,133 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 319.32ms
2025-03-11 19:23:52,133 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:23:52,853 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 719.45ms
2025-03-11 19:23:52,853 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:23:52,853 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 719.80ms
2025-03-11 19:23:52,853 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: enhanced
2025-03-11 19:23:53,232 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 378.59ms
2025-03-11 19:23:53,232 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 19:23:53,233 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 379.40ms
2025-03-11 19:23:53,233 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 19:23:54,696 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1462.76ms
2025-03-11 19:23:54,696 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 19:23:54,696 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1463.48ms
2025-03-11 19:23:54,696 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:335 - Generating enhanced SQL for question: Most deadly car brand
2025-03-11 19:23:55,247 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.72ms
2025-03-11 19:23:55,249 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:559 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:24:02,147 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 6891.90ms
2025-03-11 19:24:07,914 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 5765.66ms
2025-03-11 19:24:07,918 - app.services.nl2sql_service - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:567 - Failed to generate SQL with LangGraph agent, using fallback
2025-03-11 19:24:07,919 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 13222.27ms
2025-03-11 19:24:07,919 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Most deadly car brand...
2025-03-11 19:24:07,919 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 31
2025-03-11 19:24:07,919 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 16754.38ms
2025-03-11 19:24:07,921 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:24:07,921 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56648 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:24:37,027 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: accident, additional tables: car_statistcs, person, vehicle
2025-03-11 19:24:37,028 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:24:39,805 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 2776.48ms
2025-03-11 19:24:39,806 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:24:39,806 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 2778.22ms
2025-03-11 19:24:39,806 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: enhanced
2025-03-11 19:24:41,983 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 2176.93ms
2025-03-11 19:24:41,984 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 19:24:41,984 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 2177.86ms
2025-03-11 19:24:41,984 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:24:44,406 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 2422.27ms
2025-03-11 19:24:44,407 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:24:44,407 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 2422.70ms
2025-03-11 19:24:44,407 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: enhanced
2025-03-11 19:24:48,021 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 3613.69ms
2025-03-11 19:24:48,022 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 19:24:48,023 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 3615.84ms
2025-03-11 19:24:48,023 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 19:24:56,114 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 8088.44ms
2025-03-11 19:24:56,151 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 19:24:56,153 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 8129.78ms
2025-03-11 19:24:56,156 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:335 - Generating enhanced SQL for question: Most deadly car brand
2025-03-11 19:24:56,175 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 15.03ms
2025-03-11 19:24:56,202 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:559 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:25:06,245 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 10029.16ms
2025-03-11 19:25:12,361 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 6109.25ms
2025-03-11 19:25:12,385 - app.services.nl2sql_service - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:567 - Failed to generate SQL with LangGraph agent, using fallback
2025-03-11 19:25:12,386 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 16230.33ms
2025-03-11 19:25:12,387 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Most deadly car brand...
2025-03-11 19:25:12,387 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 31
2025-03-11 19:25:12,388 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 35361.42ms
2025-03-11 19:25:12,410 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:25:12,420 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56691 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:26:23,600 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: accident, additional tables: car_statistcs, person, vehicle
2025-03-11 19:26:23,601 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:26:24,010 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 409.32ms
2025-03-11 19:26:24,011 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:26:24,011 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 410.08ms
2025-03-11 19:26:24,011 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: enhanced
2025-03-11 19:26:24,402 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 390.35ms
2025-03-11 19:26:24,402 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 19:26:24,402 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 390.79ms
2025-03-11 19:26:24,402 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:26:24,758 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 355.54ms
2025-03-11 19:26:24,758 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:26:24,758 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 356.03ms
2025-03-11 19:26:24,758 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: enhanced
2025-03-11 19:26:25,105 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 347.36ms
2025-03-11 19:26:25,106 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 19:26:25,106 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 347.75ms
2025-03-11 19:26:25,106 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 19:26:26,344 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1237.49ms
2025-03-11 19:26:26,344 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 19:26:26,345 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1238.63ms
2025-03-11 19:26:26,345 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:335 - Generating enhanced SQL for question: Car brand involved in the most car crashes
2025-03-11 19:26:26,347 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 1.41ms
2025-03-11 19:26:26,349 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:559 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:26:32,118 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 5765.42ms
2025-03-11 19:26:39,279 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 7156.23ms
2025-03-11 19:26:39,281 - app.services.nl2sql_service - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:567 - Failed to generate SQL with LangGraph agent, using fallback
2025-03-11 19:26:39,282 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 12936.71ms
2025-03-11 19:26:39,282 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Car brand involved in the most...
2025-03-11 19:26:39,282 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 31
2025-03-11 19:26:39,282 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 15682.26ms
2025-03-11 19:26:39,283 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:26:39,283 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:56789 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:30:06,436 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:30:06,543 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:30:06,552 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:30:06,554 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [36674]
2025-03-11 19:30:12,463 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:30:12,471 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [42667]
2025-03-11 19:30:12,471 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:30:12,472 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:32:01,101 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:32:01,208 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:32:01,209 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:32:01,209 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [42667]
2025-03-11 19:32:05,340 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:32:05,350 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [44647]
2025-03-11 19:32:05,350 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:32:05,350 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:35:12,325 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:35:12,431 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:35:12,435 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:35:12,435 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [44647]
2025-03-11 19:35:28,548 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 19:35:28,548 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:35:28,557 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [47483]
2025-03-11 19:35:28,557 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:35:28,557 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:35:48,326 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57595 - "OPTIONS /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:35:48,426 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: accident, additional tables: car_statistcs, person, vehicle
2025-03-11 19:35:48,426 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:213 - Question: Car brand involved in the most car crashes
2025-03-11 19:35:48,427 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:35:48,428 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:35:48,430 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-11 19:35:48,436 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-11 19:35:48,442 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 19:35:48,629 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-11 19:35:49,241 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 19:35:49,309 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-11 19:35:50,066 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:35:50,095 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 1666.78ms
2025-03-11 19:35:50,095 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:35:50,095 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 1668.56ms
2025-03-11 19:35:50,095 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: enhanced
2025-03-11 19:35:50,095 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:35:50,468 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/car_statistcs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:35:50,468 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 372.74ms
2025-03-11 19:35:50,468 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 19:35:50,468 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 373.14ms
2025-03-11 19:35:50,468 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:35:50,469 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:35:50,885 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/person?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:35:50,941 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 472.88ms
2025-03-11 19:35:50,942 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:35:50,942 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 473.26ms
2025-03-11 19:35:50,942 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: enhanced
2025-03-11 19:35:50,942 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:35:51,330 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/vehicle?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:35:51,371 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 429.01ms
2025-03-11 19:35:51,371 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 19:35:51,371 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 429.37ms
2025-03-11 19:35:51,371 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 19:35:51,371 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:35:51,984 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:35:52,335 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/3896cba3-5d1c-402b-bdec-5c96d96139c4?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:35:52,647 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/3896cba3-5d1c-402b-bdec-5c96d96139c4?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:35:52,649 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1277.93ms
2025-03-11 19:35:52,649 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 19:35:52,650 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1278.33ms
2025-03-11 19:35:52,650 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:335 - Generating enhanced SQL for question: Car brand involved in the most car crashes
2025-03-11 19:35:53,075 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.54ms
2025-03-11 19:35:53,076 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:572 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:35:54,099 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 19:35:54,103 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-11 19:35:54,391 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 19:36:01,599 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 8518.88ms
2025-03-11 19:36:01,600 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:106 - Raw response from Vertex AI: ```sql
SELECT
    MAKE,
    count_of_accidents
  FROM
    car_statistcs
ORDER BY
  count_of_accidents DESC
LIMIT 1
```
Explanation:
The query selects the MAKE and count_of_accidents columns from the car_statistcs table. It then orders the results by count_of_accidents in descending order and limits the output to the top row, effectively returning the car brand with the highest number of accidents. 

2025-03-11 19:36:01,600 - app.services.nl2sql_service - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:432 - Failed to extract SQL from model response
2025-03-11 19:36:10,136 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 8533.64ms
2025-03-11 19:36:10,136 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:106 - Raw response from Vertex AI: ```sql
SELECT
    MAKE,
    count(*)
  FROM
    `accident`
  GROUP BY 1
ORDER BY
  count(*) DESC
LIMIT 1
```
            Evaluation:
            The query uses the wrong table. It should use the `car_statistcs` table and its `count_of_accidents` column to get the count of accidents per car make. The `accident` table does not contain information about car brands. 
            
            Corrected Query:
            ```sql
            SELECT
                MAKE
              FROM
                `car_statistcs`
            ORDER BY
              count_of_accidents DESC
            LIMIT 1
            ```
2025-03-11 19:36:10,139 - app.services.nl2sql_service - WARNING - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:581 - Failed to generate SQL with LangGraph agent, using fallback
2025-03-11 19:36:10,139 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 17489.30ms
2025-03-11 19:36:10,139 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Car brand involved in the most...
2025-03-11 19:36:10,139 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 31
2025-03-11 19:36:10,140 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 21713.90ms
2025-03-11 19:36:10,141 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:36:10,141 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57595 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:38:28,001 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:38:28,106 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:38:28,111 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:38:28,112 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [47483]
2025-03-11 19:38:34,527 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 19:38:34,527 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:38:34,537 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [49763]
2025-03-11 19:38:34,537 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:38:34,537 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:39:20,482 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:39:20,586 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:39:20,586 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:39:20,586 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [49763]
2025-03-11 19:39:23,985 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 19:39:23,985 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:39:23,994 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [50472]
2025-03-11 19:39:23,994 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:39:23,994 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:39:52,199 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:39:52,305 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:39:52,311 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:39:52,312 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [50472]
2025-03-11 19:39:56,826 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 19:39:56,826 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:39:56,835 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [50835]
2025-03-11 19:39:56,835 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:39:56,835 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:40:13,462 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:40:13,564 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:40:13,568 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:40:13,569 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [50835]
2025-03-11 19:40:17,888 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 19:40:17,889 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:40:17,899 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [51037]
2025-03-11 19:40:17,899 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:40:17,899 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:41:38,520 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:41:38,687 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:41:38,695 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:41:38,696 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [51037]
2025-03-11 19:41:46,800 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 19:41:46,800 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:41:46,810 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [52190]
2025-03-11 19:41:46,810 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:41:46,811 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:41:53,083 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: accident, additional tables: car_statistcs, person, vehicle
2025-03-11 19:41:53,083 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:213 - Question: Car brand involved in the most car crashes
2025-03-11 19:41:53,083 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:41:53,083 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:41:53,084 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-11 19:41:53,090 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-11 19:41:53,104 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 19:41:53,187 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-11 19:41:53,398 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 19:41:53,445 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-11 19:41:54,073 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:41:54,137 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 1053.55ms
2025-03-11 19:41:54,137 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:41:54,137 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 1054.06ms
2025-03-11 19:41:54,137 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: enhanced
2025-03-11 19:41:54,137 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:41:54,555 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/car_statistcs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:41:54,555 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 417.97ms
2025-03-11 19:41:54,555 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 19:41:54,556 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 418.26ms
2025-03-11 19:41:54,556 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:41:54,556 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:41:54,915 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/person?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:41:54,931 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 375.56ms
2025-03-11 19:41:54,932 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:41:54,932 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 375.92ms
2025-03-11 19:41:54,932 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: enhanced
2025-03-11 19:41:54,932 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:41:55,279 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/vehicle?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:41:55,300 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 368.37ms
2025-03-11 19:41:55,300 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 19:41:55,301 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 368.85ms
2025-03-11 19:41:55,301 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 19:41:55,301 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:41:55,917 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:41:56,235 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/c259a4cf-e866-4b78-8066-ef621cf806e9?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:41:56,536 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/c259a4cf-e866-4b78-8066-ef621cf806e9?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:41:56,542 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1240.89ms
2025-03-11 19:41:56,542 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 19:41:56,542 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1241.39ms
2025-03-11 19:41:56,542 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:336 - Generating enhanced SQL for question: Car brand involved in the most car crashes
2025-03-11 19:41:56,978 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.29ms
2025-03-11 19:41:56,979 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:661 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:41:58,981 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 19:41:58,984 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-11 19:41:59,248 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 19:42:15,193 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 18208.92ms
2025-03-11 19:42:15,194 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:107 - Raw response from Vertex AI: SQL: SELECT MAKE FROM car_statistcs ORDER BY count_of_accidents DESC LIMIT 1
Explanation: This SQL query selects the car MAKE with the highest number of accidents from the car_statistcs table. It orders the results by the count_of_accidents column in descending order and limits the output to the top result, effectively identifying the car brand involved in the most car crashes. 

2025-03-11 19:42:15,195 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:424 - Raw response in generate_sql: SQL: SELECT MAKE FROM car_statistcs ORDER BY count_of_accidents DESC LIMIT 1
Explanation: This SQL query selects the car MAKE with the highest number of accidents from the car_statistcs table. It orders the results by the count_of_accidents column in descending order and limits the output to the top result, effectively identifying the car brand involved in the most car crashes. 

2025-03-11 19:43:00,690 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 45492.20ms
2025-03-11 19:43:00,691 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:107 - Raw response from Vertex AI: The SQL query is correct and answers the user's question. 

**Explanation:**

1. **Correct Tables and Columns:** The query uses the `car_statistcs` table, which seems to be a pre-aggregated table containing information about car brands and their involvement in accidents. It selects the `MAKE` column to retrieve the car brand.
2. **Filtering Conditions:** There are no specific filtering conditions required in this case, as the question asks for the car brand involved in the most crashes overall.
3. **Aggregations and Calculations:** The query uses `ORDER BY count_of_accidents DESC` to sort the results in descending order based on the number of accidents. `LIMIT 1` then selects the top row, which represents the car brand with the highest accident count.
4. **Syntax and Logic:** The query has no syntax errors and the logic is sound. It effectively finds the car brand with the most accidents.

**Therefore, the SQL query correctly answers the user's question.** 

2025-03-11 19:43:00,703 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 64160.59ms
2025-03-11 19:43:00,704 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: Car brand involved in the most...
2025-03-11 19:43:00,704 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 71
2025-03-11 19:43:00,705 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 67622.06ms
2025-03-11 19:43:00,707 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:43:00,707 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58422 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:43:08,556 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58564 - "OPTIONS /api/execute?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:43:08,561 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:133 - Executing SQL query in demo phase: enhanced
2025-03-11 19:43:08,561 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:134 - SQL query: SELECT MAKE FROM car_statistcs ORDER BY count_of_accidents DESC LIMIT 1
2025-03-11 19:43:08,561 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:325 - Executing SQL query in demo phase: enhanced
2025-03-11 19:43:08,561 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:326 - SQL query: SELECT MAKE FROM car_statistcs ORDER BY count_of_accidents DESC LIMIT 1
2025-03-11 19:43:08,562 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:43:08,562 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:43:08,562 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:44:00,452 - google.api_core.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/api_core/retry/retry_base.py:222 - Retrying due to ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response')), sleeping 0.4s ...
2025-03-11 19:44:00,861 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (2): bigquery.googleapis.com:443
2025-03-11 19:44:20,869 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:44:20,989 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 72427.11ms
2025-03-11 19:44:21,020 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:44:21,024 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 72461.91ms
2025-03-11 19:44:21,026 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:364 - Executing query with qualified table names: SELECT MAKE FROM `car_crashes.car_statistcs` ORDER BY count_of_accidents DESC LIMIT 1
2025-03-11 19:44:21,830 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:44:22,210 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/a7e11927-70d8-4635-9fcd-b737404cb239?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:44:22,568 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/a7e11927-70d8-4635-9fcd-b737404cb239?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:44:22,577 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_execute_sql' completed in 74014.97ms
2025-03-11 19:44:22,578 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:384 - Query executed successfully in 74.02s, returned 1 rows
2025-03-11 19:44:22,578 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.execute_sql executed in 74016.62ms
2025-03-11 19:44:22,578 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:142 - Query executed successfully, returned 1 rows
2025-03-11 19:44:22,578 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.execute_sql_query executed in 74017.51ms
2025-03-11 19:44:22,612 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/execute
2025-03-11 19:44:22,615 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58564 - "POST /api/execute?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:44:22,626 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:44:22,626 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:44:22,626 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 19:44:22,930 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:44:22,934 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 307.87ms
2025-03-11 19:44:22,934 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:44:22,934 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 308.28ms
2025-03-11 19:44:22,934 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:44:22,934 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 309.25ms
2025-03-11 19:44:22,935 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:44:22,937 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58721 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:44:22,941 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:44:22,942 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:44:22,942 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 19:44:23,220 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:44:23,252 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 310.27ms
2025-03-11 19:44:23,252 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:44:23,252 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 310.74ms
2025-03-11 19:44:23,252 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:44:23,252 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 311.00ms
2025-03-11 19:44:23,253 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:44:23,253 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58564 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:44:45,953 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:44:45,954 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:44:45,955 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:44:46,260 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:44:46,266 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 310.96ms
2025-03-11 19:44:46,266 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:44:46,267 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 312.51ms
2025-03-11 19:44:46,267 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:44:46,267 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 315.60ms
2025-03-11 19:44:46,268 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:44:46,269 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58807 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:44:46,271 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:44:46,271 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:44:46,271 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:44:46,577 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:44:46,578 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 307.04ms
2025-03-11 19:44:46,578 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:44:46,578 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 307.33ms
2025-03-11 19:44:46,578 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:44:46,578 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 307.58ms
2025-03-11 19:44:46,579 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:44:46,579 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58807 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:13,165 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 19:45:13,166 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:45:13,166 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:13,527 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:13,544 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 378.21ms
2025-03-11 19:45:13,544 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:45:13,545 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 379.75ms
2025-03-11 19:45:13,545 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 54 columns
2025-03-11 19:45:13,545 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 380.43ms
2025-03-11 19:45:13,547 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 19:45:13,547 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:13,552 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: accident_view, demo phase: enhanced
2025-03-11 19:45:13,552 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident_view in demo phase: enhanced
2025-03-11 19:45:13,552 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:13,896 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident_view?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:13,904 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 352.17ms
2025-03-11 19:45:13,905 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident_view with 54 columns
2025-03-11 19:45:13,905 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 353.11ms
2025-03-11 19:45:13,906 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 54 columns
2025-03-11 19:45:13,906 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 353.90ms
2025-03-11 19:45:13,907 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident_view/schema
2025-03-11 19:45:13,907 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/accident_view/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:13,910 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: car_statistcs, demo phase: enhanced
2025-03-11 19:45:13,910 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: enhanced
2025-03-11 19:45:13,911 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:14,251 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/car_statistcs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:14,256 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 345.85ms
2025-03-11 19:45:14,257 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 19:45:14,257 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 346.28ms
2025-03-11 19:45:14,257 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 5 columns
2025-03-11 19:45:14,257 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 346.58ms
2025-03-11 19:45:14,258 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/car_statistcs/schema
2025-03-11 19:45:14,258 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/car_statistcs/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:14,262 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: cevent, demo phase: enhanced
2025-03-11 19:45:14,262 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table cevent in demo phase: enhanced
2025-03-11 19:45:14,262 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:14,611 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/cevent?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:14,630 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 368.53ms
2025-03-11 19:45:14,631 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table cevent with 10 columns
2025-03-11 19:45:14,631 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 368.90ms
2025-03-11 19:45:14,631 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 10 columns
2025-03-11 19:45:14,631 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 369.14ms
2025-03-11 19:45:14,631 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/cevent/schema
2025-03-11 19:45:14,632 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/cevent/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:14,637 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: damage, demo phase: enhanced
2025-03-11 19:45:14,637 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: enhanced
2025-03-11 19:45:14,637 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:14,950 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/damage?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:14,961 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 324.33ms
2025-03-11 19:45:14,961 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 19:45:14,962 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 324.80ms
2025-03-11 19:45:14,962 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:45:14,962 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 325.07ms
2025-03-11 19:45:14,962 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/damage/schema
2025-03-11 19:45:14,962 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/damage/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:14,965 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: distract, demo phase: enhanced
2025-03-11 19:45:14,966 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table distract in demo phase: enhanced
2025-03-11 19:45:14,966 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:15,280 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/distract?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:15,288 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 322.18ms
2025-03-11 19:45:15,288 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table distract with 6 columns
2025-03-11 19:45:15,288 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 322.58ms
2025-03-11 19:45:15,288 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:45:15,288 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 323.10ms
2025-03-11 19:45:15,289 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/distract/schema
2025-03-11 19:45:15,289 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/distract/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:15,292 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: drimpair, demo phase: enhanced
2025-03-11 19:45:15,293 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drimpair in demo phase: enhanced
2025-03-11 19:45:15,293 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:15,607 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/drimpair?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:15,613 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 320.56ms
2025-03-11 19:45:15,613 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drimpair with 6 columns
2025-03-11 19:45:15,613 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 320.94ms
2025-03-11 19:45:15,614 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:45:15,614 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 321.37ms
2025-03-11 19:45:15,614 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drimpair/schema
2025-03-11 19:45:15,615 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/drimpair/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:15,621 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: drugs, demo phase: enhanced
2025-03-11 19:45:15,621 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table drugs in demo phase: enhanced
2025-03-11 19:45:15,621 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:15,942 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/drugs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:15,943 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 321.31ms
2025-03-11 19:45:15,943 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table drugs with 8 columns
2025-03-11 19:45:15,943 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 321.61ms
2025-03-11 19:45:15,943 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 8 columns
2025-03-11 19:45:15,943 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 321.88ms
2025-03-11 19:45:15,944 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/drugs/schema
2025-03-11 19:45:15,944 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/drugs/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:15,946 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: factor, demo phase: enhanced
2025-03-11 19:45:15,946 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table factor in demo phase: enhanced
2025-03-11 19:45:15,946 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:16,285 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/factor?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:16,288 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 341.91ms
2025-03-11 19:45:16,289 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table factor with 6 columns
2025-03-11 19:45:16,289 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 342.36ms
2025-03-11 19:45:16,289 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:45:16,289 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 342.57ms
2025-03-11 19:45:16,289 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/factor/schema
2025-03-11 19:45:16,289 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/factor/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:16,293 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: maneuver, demo phase: enhanced
2025-03-11 19:45:16,293 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table maneuver in demo phase: enhanced
2025-03-11 19:45:16,293 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:16,599 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/maneuver?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:16,604 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 311.41ms
2025-03-11 19:45:16,604 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table maneuver with 6 columns
2025-03-11 19:45:16,604 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 311.78ms
2025-03-11 19:45:16,605 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:45:16,605 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 312.09ms
2025-03-11 19:45:16,605 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/maneuver/schema
2025-03-11 19:45:16,605 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/maneuver/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:16,608 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmcrash, demo phase: enhanced
2025-03-11 19:45:16,608 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmcrash in demo phase: enhanced
2025-03-11 19:45:16,608 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:16,917 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/nmcrash?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:16,923 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 314.59ms
2025-03-11 19:45:16,923 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmcrash with 7 columns
2025-03-11 19:45:16,923 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 315.18ms
2025-03-11 19:45:16,924 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 19:45:16,924 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 316.02ms
2025-03-11 19:45:16,924 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmcrash/schema
2025-03-11 19:45:16,924 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/nmcrash/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:16,927 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmimpair, demo phase: enhanced
2025-03-11 19:45:16,927 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmimpair in demo phase: enhanced
2025-03-11 19:45:16,927 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:17,243 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/nmimpair?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:17,248 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 321.55ms
2025-03-11 19:45:17,248 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmimpair with 7 columns
2025-03-11 19:45:17,249 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 322.06ms
2025-03-11 19:45:17,249 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 19:45:17,249 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 322.30ms
2025-03-11 19:45:17,249 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmimpair/schema
2025-03-11 19:45:17,250 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/nmimpair/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:17,252 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: nmprior, demo phase: enhanced
2025-03-11 19:45:17,253 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table nmprior in demo phase: enhanced
2025-03-11 19:45:17,253 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:17,559 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/nmprior?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:17,560 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 307.22ms
2025-03-11 19:45:17,560 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table nmprior with 7 columns
2025-03-11 19:45:17,560 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 307.76ms
2025-03-11 19:45:17,560 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 7 columns
2025-03-11 19:45:17,560 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 308.20ms
2025-03-11 19:45:17,561 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/nmprior/schema
2025-03-11 19:45:17,561 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/nmprior/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:17,566 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: person, demo phase: enhanced
2025-03-11 19:45:17,566 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:45:17,566 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:17,916 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/person?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:17,934 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 368.50ms
2025-03-11 19:45:17,935 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:45:17,935 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 368.98ms
2025-03-11 19:45:17,935 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 70 columns
2025-03-11 19:45:17,935 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 369.44ms
2025-03-11 19:45:17,937 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/person/schema
2025-03-11 19:45:17,938 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/person/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:17,942 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: safetyeq, demo phase: enhanced
2025-03-11 19:45:17,942 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table safetyeq in demo phase: enhanced
2025-03-11 19:45:17,943 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:18,261 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/safetyeq?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:18,347 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 403.98ms
2025-03-11 19:45:18,348 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table safetyeq with 12 columns
2025-03-11 19:45:18,348 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 405.53ms
2025-03-11 19:45:18,348 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 12 columns
2025-03-11 19:45:18,348 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 405.93ms
2025-03-11 19:45:18,350 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/safetyeq/schema
2025-03-11 19:45:18,351 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58831 - "GET /api/tables/safetyeq/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:20,036 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vehicle, demo phase: enhanced
2025-03-11 19:45:20,036 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: enhanced
2025-03-11 19:45:20,036 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:20,369 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/vehicle?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:20,399 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 363.05ms
2025-03-11 19:45:20,399 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 19:45:20,400 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 363.57ms
2025-03-11 19:45:20,400 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 110 columns
2025-03-11 19:45:20,400 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 363.90ms
2025-03-11 19:45:20,403 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vehicle/schema
2025-03-11 19:45:20,403 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "GET /api/tables/vehicle/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:20,407 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vevent, demo phase: enhanced
2025-03-11 19:45:20,407 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vevent in demo phase: enhanced
2025-03-11 19:45:20,407 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:20,769 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/vevent?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:20,781 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 373.37ms
2025-03-11 19:45:20,781 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vevent with 12 columns
2025-03-11 19:45:20,781 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 374.01ms
2025-03-11 19:45:20,781 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 12 columns
2025-03-11 19:45:20,781 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 374.35ms
2025-03-11 19:45:20,782 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vevent/schema
2025-03-11 19:45:20,782 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "GET /api/tables/vevent/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:20,787 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: violatn, demo phase: enhanced
2025-03-11 19:45:20,787 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table violatn in demo phase: enhanced
2025-03-11 19:45:20,787 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:21,138 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/violatn?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:21,143 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 355.76ms
2025-03-11 19:45:21,143 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table violatn with 6 columns
2025-03-11 19:45:21,143 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 356.14ms
2025-03-11 19:45:21,143 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:45:21,143 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 356.42ms
2025-03-11 19:45:21,144 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/violatn/schema
2025-03-11 19:45:21,144 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "GET /api/tables/violatn/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:21,173 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vision, demo phase: enhanced
2025-03-11 19:45:21,173 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vision in demo phase: enhanced
2025-03-11 19:45:21,173 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:21,466 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/vision?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:21,477 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 303.13ms
2025-03-11 19:45:21,477 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vision with 6 columns
2025-03-11 19:45:21,477 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 303.63ms
2025-03-11 19:45:21,477 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 6 columns
2025-03-11 19:45:21,477 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 303.99ms
2025-03-11 19:45:21,478 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vision/schema
2025-03-11 19:45:21,478 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "GET /api/tables/vision/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:21,481 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vsoe, demo phase: enhanced
2025-03-11 19:45:21,481 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vsoe in demo phase: enhanced
2025-03-11 19:45:21,481 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:21,791 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/vsoe?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:21,791 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 310.31ms
2025-03-11 19:45:21,792 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vsoe with 8 columns
2025-03-11 19:45:21,792 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 310.95ms
2025-03-11 19:45:21,792 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 8 columns
2025-03-11 19:45:21,792 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 311.22ms
2025-03-11 19:45:21,792 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vsoe/schema
2025-03-11 19:45:21,793 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "GET /api/tables/vsoe/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:21,804 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "OPTIONS /api/tools/suggest-tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:21,856 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:383 - Suggesting tables for question: car brand that takes part in most accidents
2025-03-11 19:45:21,857 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:1059 - Suggesting tables for question: car brand that takes part in most accidents
2025-03-11 19:45:25,555 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3695.81ms
2025-03-11 19:45:25,556 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:107 - Raw response from Vertex AI: person,vehicle,car_statistcs 

2025-03-11 19:45:25,556 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:1128 - Suggested tables: ['person', 'vehicle', 'car_statistcs']
2025-03-11 19:45:25,556 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.suggest_tables_for_question executed in 3700.28ms
2025-03-11 19:45:25,557 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:392 - Suggested 3 tables for the question
2025-03-11 19:45:25,558 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/tools/suggest-tables
2025-03-11 19:45:25,558 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "POST /api/tools/suggest-tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:25,565 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: person, demo phase: enhanced
2025-03-11 19:45:25,565 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:45:25,565 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:25,896 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/person?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:25,918 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 352.46ms
2025-03-11 19:45:25,918 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:45:25,918 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 353.01ms
2025-03-11 19:45:25,918 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 70 columns
2025-03-11 19:45:25,918 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 353.45ms
2025-03-11 19:45:25,919 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/person/schema
2025-03-11 19:45:25,919 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "GET /api/tables/person/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:25,923 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: vehicle, demo phase: enhanced
2025-03-11 19:45:25,924 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: enhanced
2025-03-11 19:45:25,924 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:26,244 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/vehicle?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:26,267 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 342.97ms
2025-03-11 19:45:26,267 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 19:45:26,267 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 343.49ms
2025-03-11 19:45:26,267 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 110 columns
2025-03-11 19:45:26,267 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 343.80ms
2025-03-11 19:45:26,269 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/vehicle/schema
2025-03-11 19:45:26,269 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "GET /api/tables/vehicle/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:26,274 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:88 - Getting schema for table: car_statistcs, demo phase: enhanced
2025-03-11 19:45:26,274 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: enhanced
2025-03-11 19:45:26,311 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:26,665 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/car_statistcs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:26,665 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 353.99ms
2025-03-11 19:45:26,665 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 19:45:26,665 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 391.43ms
2025-03-11 19:45:26,666 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:93 - Schema retrieved with 5 columns
2025-03-11 19:45:26,666 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 392.00ms
2025-03-11 19:45:26,666 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/car_statistcs/schema
2025-03-11 19:45:26,667 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "GET /api/tables/car_statistcs/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:45:27,982 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: person, additional tables: vehicle, car_statistcs
2025-03-11 19:45:27,982 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:213 - Question: car brand that takes part in most accidents
2025-03-11 19:45:27,983 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:45:27,983 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:28,296 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/person?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:28,314 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 331.50ms
2025-03-11 19:45:28,315 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:45:28,315 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 332.16ms
2025-03-11 19:45:28,315 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table vehicle in demo phase: enhanced
2025-03-11 19:45:28,315 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:28,703 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/vehicle?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:28,744 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 429.10ms
2025-03-11 19:45:28,744 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table vehicle with 110 columns
2025-03-11 19:45:28,744 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 429.51ms
2025-03-11 19:45:28,744 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: enhanced
2025-03-11 19:45:28,744 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:29,130 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/car_statistcs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:29,131 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 386.27ms
2025-03-11 19:45:29,131 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 19:45:29,131 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 386.61ms
2025-03-11 19:45:29,132 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table person (size: 5) in demo phase: enhanced
2025-03-11 19:45:29,132 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:45:30,020 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:30,325 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/6b8985c5-51d9-4173-8f68-4a8d9e509a88?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:30,628 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/6b8985c5-51d9-4173-8f68-4a8d9e509a88?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:45:30,636 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1504.13ms
2025-03-11 19:45:30,636 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table person
2025-03-11 19:45:30,636 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1505.14ms
2025-03-11 19:45:30,637 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:336 - Generating enhanced SQL for question: car brand that takes part in most accidents
2025-03-11 19:45:30,639 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.21ms
2025-03-11 19:45:30,645 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:661 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:45:39,867 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 9214.48ms
2025-03-11 19:45:39,869 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:107 - Raw response from Vertex AI: SQL: SELECT MAKE, COUNT(*) AS num_accidents FROM vehicle GROUP BY MAKE ORDER BY num_accidents DESC LIMIT 1
Explanation: This SQL query first selects the MAKE column and uses the COUNT(*) function to count the number of accidents for each car brand. Then, it groups the results by MAKE and orders them in descending order based on the count of accidents. Finally, it limits the output to the top 1 row, which represents the car brand with the most accidents. 

2025-03-11 19:45:39,869 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:424 - Raw response in generate_sql: SQL: SELECT MAKE, COUNT(*) AS num_accidents FROM vehicle GROUP BY MAKE ORDER BY num_accidents DESC LIMIT 1
Explanation: This SQL query first selects the MAKE column and uses the COUNT(*) function to count the number of accidents for each car brand. Then, it groups the results by MAKE and orders them in descending order based on the count of accidents. Finally, it limits the output to the top 1 row, which represents the car brand with the most accidents. 

2025-03-11 19:45:59,010 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 19135.46ms
2025-03-11 19:45:59,011 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:107 - Raw response from Vertex AI: The SQL query is **correct** and effectively answers the user's question. Here's a breakdown:

1. **Correct Tables and Columns:** It uses the `vehicle` table, which is appropriate as it contains information about car brands (`MAKE`) involved in accidents.

2. **Filtering Conditions:** There are no specific filtering conditions in the user's question, so the query doesn't need to handle any.

3. **Aggregations and Calculations:**
   - `COUNT(*) AS num_accidents`:  Correctly counts the number of accidents for each car brand.
   - `GROUP BY MAKE`: Groups the results by car brand, allowing for the count aggregation.
   - `ORDER BY num_accidents DESC`: Orders the results in descending order of accident count, ensuring the top brand is first.
   - `LIMIT 1`:  Limits the output to the single car brand with the highest accident count.

4. **Syntax and Logic:** The query is syntactically correct and logically sound. 

**Therefore, the SQL query accurately identifies the car brand involved in the most accidents.** 

2025-03-11 19:45:59,015 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 28378.23ms
2025-03-11 19:45:59,015 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: car brand that takes part in m...
2025-03-11 19:45:59,015 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 101
2025-03-11 19:45:59,015 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 31033.08ms
2025-03-11 19:45:59,023 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:45:59,026 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58841 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:46:28,783 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:133 - Executing SQL query in demo phase: enhanced
2025-03-11 19:46:28,783 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:134 - SQL query: SELECT MAKE, COUNT(*) AS num_accidents FROM vehicle GROUP BY MAKE ORDER BY num_accidents DESC LIMIT 1
2025-03-11 19:46:28,783 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:325 - Executing SQL query in demo phase: enhanced
2025-03-11 19:46:28,784 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:326 - SQL query: SELECT MAKE, COUNT(*) AS num_accidents FROM vehicle GROUP BY MAKE ORDER BY num_accidents DESC LIMIT 1
2025-03-11 19:46:28,784 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:46:28,784 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:46:28,784 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:46:29,191 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:46:29,193 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 408.40ms
2025-03-11 19:46:29,193 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:46:29,193 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 409.09ms
2025-03-11 19:46:29,193 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:364 - Executing query with qualified table names: SELECT MAKE, COUNT(*) AS num_accidents FROM `car_crashes.vehicle` GROUP BY MAKE ORDER BY num_accidents DESC LIMIT 1
2025-03-11 19:46:30,377 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:46:30,737 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/3ad2d1c7-660f-4cab-817b-2ba923642bb8?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:46:31,104 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/3ad2d1c7-660f-4cab-817b-2ba923642bb8?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:46:31,108 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_execute_sql' completed in 2324.06ms
2025-03-11 19:46:31,108 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:384 - Query executed successfully in 2.32s, returned 1 rows
2025-03-11 19:46:31,108 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.execute_sql executed in 2325.45ms
2025-03-11 19:46:31,109 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:142 - Query executed successfully, returned 1 rows
2025-03-11 19:46:31,109 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.execute_sql_query executed in 2326.28ms
2025-03-11 19:46:31,110 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/execute
2025-03-11 19:46:31,110 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58900 - "POST /api/execute?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:50:45,453 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:50:45,581 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:50:45,594 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:50:45,596 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [52190]
2025-03-11 19:50:51,743 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 19:50:51,744 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:50:51,753 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [59260]
2025-03-11 19:50:51,753 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:50:51,753 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:50:52,867 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 19:50:52,969 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-11 19:50:52,969 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-11 19:50:52,969 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [59260]
2025-03-11 19:50:56,626 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-11 19:50:56,626 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-11 19:50:56,635 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [59419]
2025-03-11 19:50:56,635 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-11 19:50:56,635 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-11 19:51:20,633 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:133 - Executing SQL query in demo phase: enhanced
2025-03-11 19:51:20,635 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:134 - SQL query: SELECT MAKE, COUNT(*) AS num_accidents FROM vehicle GROUP BY MAKE ORDER BY num_accidents DESC LIMIT 1
2025-03-11 19:51:20,635 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:325 - Executing SQL query in demo phase: enhanced
2025-03-11 19:51:20,635 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:326 - SQL query: SELECT MAKE, COUNT(*) AS num_accidents FROM vehicle GROUP BY MAKE ORDER BY num_accidents DESC LIMIT 1
2025-03-11 19:51:20,635 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:51:20,635 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:51:20,635 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:51:20,637 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-11 19:51:20,643 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-11 19:51:20,646 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 19:51:20,897 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-11 19:51:21,211 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 19:51:21,215 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-11 19:51:21,820 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:51:21,824 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 1187.82ms
2025-03-11 19:51:21,824 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:51:21,824 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 1188.66ms
2025-03-11 19:51:21,824 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:364 - Executing query with qualified table names: SELECT MAKE, COUNT(*) AS num_accidents FROM `car_crashes.vehicle` GROUP BY MAKE ORDER BY num_accidents DESC LIMIT 1
2025-03-11 19:51:22,432 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:51:23,257 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/a25b6804-d660-4b1d-a0eb-5cf3b1afda6e?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:51:23,623 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/a25b6804-d660-4b1d-a0eb-5cf3b1afda6e?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:51:23,629 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_execute_sql' completed in 2993.29ms
2025-03-11 19:51:23,629 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:384 - Query executed successfully in 2.99s, returned 1 rows
2025-03-11 19:51:23,629 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.execute_sql executed in 2994.20ms
2025-03-11 19:51:23,629 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:142 - Query executed successfully, returned 1 rows
2025-03-11 19:51:23,629 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.execute_sql_query executed in 2996.05ms
2025-03-11 19:51:23,637 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/execute
2025-03-11 19:51:23,638 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59352 - "POST /api/execute?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:55:46,433 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59953 - "OPTIONS /api/tools/suggest-tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:55:46,535 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:383 - Suggesting tables for question: have girls been in more accidents or boys
2025-03-11 19:55:46,558 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:1059 - Suggesting tables for question: have girls been in more accidents or boys
2025-03-11 19:55:48,066 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 19:55:48,074 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-11 19:55:48,359 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 19:55:54,995 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 8434.91ms
2025-03-11 19:55:54,996 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:107 - Raw response from Vertex AI: person,accident 

2025-03-11 19:55:54,997 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:1128 - Suggested tables: ['person', 'accident']
2025-03-11 19:55:54,997 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.suggest_tables_for_question executed in 8439.50ms
2025-03-11 19:55:54,997 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:392 - Suggested 2 tables for the question
2025-03-11 19:55:55,000 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/tools/suggest-tables
2025-03-11 19:55:55,001 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59953 - "POST /api/tools/suggest-tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:55:57,366 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59953 - "OPTIONS /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:55:57,383 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:211 - Enhanced NL2SQL request for primary table: person, additional tables: accident
2025-03-11 19:55:57,383 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:213 - Question: have girls been in more accidents or boys
2025-03-11 19:55:57,383 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table person in demo phase: enhanced
2025-03-11 19:55:57,383 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:55:57,473 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:289 - Resetting dropped connection: bigquery.googleapis.com
2025-03-11 19:55:57,944 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/person?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:55:57,958 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 574.41ms
2025-03-11 19:55:57,958 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table person with 70 columns
2025-03-11 19:55:57,958 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 574.99ms
2025-03-11 19:55:57,958 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 19:55:57,958 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:55:58,305 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:55:58,317 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 358.59ms
2025-03-11 19:55:58,317 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 19:55:58,317 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 358.97ms
2025-03-11 19:55:58,317 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table person (size: 5) in demo phase: enhanced
2025-03-11 19:55:58,317 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:55:58,856 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:55:59,211 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/e176db2b-2548-4eb6-8f4c-7aaf6e0fa338?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:55:59,535 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/e176db2b-2548-4eb6-8f4c-7aaf6e0fa338?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:55:59,540 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1222.69ms
2025-03-11 19:55:59,540 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table person
2025-03-11 19:55:59,541 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1223.34ms
2025-03-11 19:55:59,541 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:336 - Generating enhanced SQL for question: have girls been in more accidents or boys
2025-03-11 19:56:00,393 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'format_schema_for_prompt' completed in 0.11ms
2025-03-11 19:56:00,394 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:661 - Running LangGraph agent for enhanced SQL generation
2025-03-11 19:56:04,033 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 3634.59ms
2025-03-11 19:56:04,034 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:107 - Raw response from Vertex AI: SQL: SELECT SEX, COUNT(*) AS num_accidents FROM person GROUP BY SEX
Explanation: This SQL query counts the number of accidents associated with each sex in the 'person' table. It groups the data by the 'SEX' column and then uses the COUNT(*) function to count the number of rows (i.e., accidents) for each distinct sex. 

2025-03-11 19:56:04,034 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:424 - Raw response in generate_sql: SQL: SELECT SEX, COUNT(*) AS num_accidents FROM person GROUP BY SEX
Explanation: This SQL query counts the number of accidents associated with each sex in the 'person' table. It groups the data by the 'SEX' column and then uses the COUNT(*) function to count the number of rows (i.e., accidents) for each distinct sex. 

2025-03-11 19:56:10,954 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'gemini_api_call' completed in 6918.68ms
2025-03-11 19:56:10,954 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:107 - Raw response from Vertex AI: **Evaluation:**

The SQL query is **correct** and effectively answers the user's question. 

**Here's a breakdown:**

1. **Correct Tables and Columns:**
    - It uses the correct table `person`.
    - It utilizes the `SEX` column to differentiate between genders.

2. **Filtering Conditions:**
    - The user question doesn't specify any filtering conditions (like a specific year or state), so no WHERE clause is needed.

3. **Aggregations and Calculations:**
    - `COUNT(*) AS num_accidents`: This correctly counts the number of accidents for each gender.
    - `GROUP BY SEX`: This groups the results by gender, allowing for a direct comparison.

4. **Syntax and Logic:**
    - The query is syntactically correct.
    - The logic is sound, directly addressing the user's question.

**Output:**

The query will output a table with two columns:

- `SEX`: Listing 'Male', 'Female', and potentially other values present in the data.
- `num_accidents`: Showing the corresponding number of accidents for each gender.

This output allows for a straightforward comparison to determine whether there were more accidents involving females or males. 

2025-03-11 19:56:10,957 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 11416.40ms
2025-03-11 19:56:10,957 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:50 - Added query to history: have girls been in more accide...
2025-03-11 19:56:10,957 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:245 - Generated SQL query with length 62
2025-03-11 19:56:10,958 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 13575.25ms
2025-03-11 19:56:10,959 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 19:56:10,959 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59953 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:56:15,385 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59983 - "OPTIONS /api/execute?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:56:15,391 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:133 - Executing SQL query in demo phase: enhanced
2025-03-11 19:56:15,391 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:134 - SQL query: SELECT SEX, COUNT(*) AS num_accidents FROM person GROUP BY SEX
2025-03-11 19:56:15,391 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:325 - Executing SQL query in demo phase: enhanced
2025-03-11 19:56:15,391 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:326 - SQL query: SELECT SEX, COUNT(*) AS num_accidents FROM person GROUP BY SEX
2025-03-11 19:56:15,392 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:56:15,392 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:56:15,392 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:56:15,750 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:15,751 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 358.97ms
2025-03-11 19:56:15,751 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:56:15,752 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 359.92ms
2025-03-11 19:56:15,752 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:364 - Executing query with qualified table names: SELECT SEX, COUNT(*) AS num_accidents FROM `car_crashes.person` GROUP BY SEX
2025-03-11 19:56:16,721 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:17,010 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/a2c3cbf4-2160-4f7d-98fb-f57f081266f8?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:17,352 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/a2c3cbf4-2160-4f7d-98fb-f57f081266f8?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:17,353 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_execute_sql' completed in 1961.39ms
2025-03-11 19:56:17,353 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:384 - Query executed successfully in 1.96s, returned 4 rows
2025-03-11 19:56:17,354 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.execute_sql executed in 1962.32ms
2025-03-11 19:56:17,354 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:142 - Query executed successfully, returned 4 rows
2025-03-11 19:56:17,354 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.execute_sql_query executed in 1962.79ms
2025-03-11 19:56:17,354 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/execute
2025-03-11 19:56:17,354 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:59983 - "POST /api/execute?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:56:39,189 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:56:39,192 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:56:39,200 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 19:56:39,671 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:39,673 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 472.84ms
2025-03-11 19:56:39,673 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:56:39,673 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 481.60ms
2025-03-11 19:56:39,673 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:56:39,673 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 484.60ms
2025-03-11 19:56:39,674 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:56:39,674 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60007 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:56:39,676 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:56:39,676 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:56:39,676 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 19:56:40,028 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:40,032 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 356.30ms
2025-03-11 19:56:40,033 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:56:40,033 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 356.59ms
2025-03-11 19:56:40,033 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:56:40,033 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 357.01ms
2025-03-11 19:56:40,034 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:56:40,034 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60007 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:56:42,199 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:56:42,199 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:56:42,199 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:56:42,534 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:42,534 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 334.93ms
2025-03-11 19:56:42,535 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:56:42,535 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 335.38ms
2025-03-11 19:56:42,535 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:56:42,535 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 335.65ms
2025-03-11 19:56:42,535 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:56:42,535 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60016 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:56:42,537 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:56:42,537 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:56:42,537 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:56:42,837 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:42,843 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 305.89ms
2025-03-11 19:56:42,844 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:56:42,844 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 306.53ms
2025-03-11 19:56:42,844 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:56:42,844 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 306.81ms
2025-03-11 19:56:42,844 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:56:42,844 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60018 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:56:47,175 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:56:47,176 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:56:47,176 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 19:56:47,472 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:47,478 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 301.92ms
2025-03-11 19:56:47,478 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:56:47,478 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 302.38ms
2025-03-11 19:56:47,478 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:56:47,478 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 302.88ms
2025-03-11 19:56:47,479 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:56:47,479 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60023 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:56:47,480 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:56:47,480 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:56:47,480 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 19:56:47,791 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:47,796 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 315.51ms
2025-03-11 19:56:47,796 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:56:47,796 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 316.02ms
2025-03-11 19:56:47,796 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:56:47,797 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 316.30ms
2025-03-11 19:56:47,797 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:56:47,797 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60023 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:56:48,012 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:56:48,012 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:56:48,012 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:56:48,305 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:48,310 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 298.36ms
2025-03-11 19:56:48,311 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:56:48,311 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 299.07ms
2025-03-11 19:56:48,311 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:56:48,311 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 299.58ms
2025-03-11 19:56:48,311 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:56:48,312 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60023 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:56:48,313 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:56:48,313 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:56:48,313 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:56:48,665 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:56:48,670 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 356.92ms
2025-03-11 19:56:48,670 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:56:48,670 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 357.41ms
2025-03-11 19:56:48,671 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:56:48,671 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 357.75ms
2025-03-11 19:56:48,671 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:56:48,671 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60026 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:57:12,740 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: agent
2025-03-11 19:57:12,741 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 19:57:12,742 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 19:57:13,079 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:13,085 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 342.85ms
2025-03-11 19:57:13,085 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:13,085 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 343.40ms
2025-03-11 19:57:13,085 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:13,085 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 344.65ms
2025-03-11 19:57:13,085 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:315 - Getting query history
2025-03-11 19:57:13,086 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:319 - Retrieved 1 history items
2025-03-11 19:57:13,086 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.11ms
2025-03-11 19:57:13,087 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:13,087 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 19:57:13,087 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60051 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 19:57:13,087 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60052 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 19:57:13,092 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: agent
2025-03-11 19:57:13,093 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 19:57:13,093 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 19:57:13,364 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:13,365 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 272.42ms
2025-03-11 19:57:13,365 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:13,365 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 272.73ms
2025-03-11 19:57:13,365 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:13,365 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 273.00ms
2025-03-11 19:57:13,366 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:315 - Getting query history
2025-03-11 19:57:13,366 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:319 - Retrieved 1 history items
2025-03-11 19:57:13,366 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.15ms
2025-03-11 19:57:13,366 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:13,366 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60055 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 19:57:13,366 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 19:57:13,367 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60051 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 19:57:23,891 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:57:23,892 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:57:23,892 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:57:24,178 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:24,183 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 290.55ms
2025-03-11 19:57:24,183 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:24,183 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 291.30ms
2025-03-11 19:57:24,183 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:24,183 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 292.02ms
2025-03-11 19:57:24,184 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:24,184 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60064 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:57:24,186 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:57:24,186 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:57:24,186 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:57:24,469 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:24,470 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 283.74ms
2025-03-11 19:57:24,470 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:24,470 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 284.07ms
2025-03-11 19:57:24,470 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:24,470 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 284.31ms
2025-03-11 19:57:24,470 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:24,470 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60064 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:57:32,590 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: agent
2025-03-11 19:57:32,591 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 19:57:32,592 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 19:57:32,838 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:32,843 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 251.03ms
2025-03-11 19:57:32,843 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:32,843 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 252.23ms
2025-03-11 19:57:32,843 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:32,843 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 253.53ms
2025-03-11 19:57:32,844 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:315 - Getting query history
2025-03-11 19:57:32,844 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:319 - Retrieved 1 history items
2025-03-11 19:57:32,845 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.29ms
2025-03-11 19:57:32,845 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:32,845 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 19:57:32,846 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60079 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 19:57:32,846 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60080 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 19:57:32,848 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: agent
2025-03-11 19:57:32,848 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 19:57:32,848 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 19:57:33,127 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:33,132 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 283.77ms
2025-03-11 19:57:33,132 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:33,132 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 284.21ms
2025-03-11 19:57:33,132 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:33,132 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 284.50ms
2025-03-11 19:57:33,133 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:315 - Getting query history
2025-03-11 19:57:33,133 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:319 - Retrieved 1 history items
2025-03-11 19:57:33,133 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.11ms
2025-03-11 19:57:33,133 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:33,133 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 19:57:33,133 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60079 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 19:57:33,134 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60080 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 19:57:35,913 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:57:35,913 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:57:35,913 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:57:36,242 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:36,243 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 329.77ms
2025-03-11 19:57:36,243 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:36,243 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 330.10ms
2025-03-11 19:57:36,243 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:36,243 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 330.37ms
2025-03-11 19:57:36,244 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:36,244 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60080 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:57:36,245 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: enhanced
2025-03-11 19:57:36,245 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 19:57:36,245 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 19:57:36,533 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:36,533 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 287.66ms
2025-03-11 19:57:36,533 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:36,533 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 287.94ms
2025-03-11 19:57:36,533 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:36,533 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 288.15ms
2025-03-11 19:57:36,534 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:36,534 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60079 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 19:57:44,484 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:57:44,484 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:57:44,484 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 19:57:44,816 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:44,816 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 331.88ms
2025-03-11 19:57:44,816 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:44,817 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 332.40ms
2025-03-11 19:57:44,817 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:44,817 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 332.99ms
2025-03-11 19:57:44,817 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:44,817 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60096 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 19:57:44,818 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:69 - Listing tables for demo phase: basic
2025-03-11 19:57:44,819 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 19:57:44,819 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 19:57:45,141 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 19:57:45,144 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 325.56ms
2025-03-11 19:57:45,144 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 19:57:45,145 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 326.06ms
2025-03-11 19:57:45,145 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:73 - Found 20 tables
2025-03-11 19:57:45,145 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 326.53ms
2025-03-11 19:57:45,145 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 19:57:45,146 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:60096 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
