2025-03-10 19:46:38,319 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 19:46:38,319 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 19:46:38,326 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [87799]
2025-03-10 19:46:38,326 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 19:46:38,327 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 19:46:49,795 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53021 - "GET /api/tables?demo_phase=basic HTTP/1.1" 500
2025-03-10 19:46:49,796 - uvicorn.error - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:413 - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 91, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py", line 40, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py", line 51, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py", line 47, in get_tables
    logger.info(f"Listing tables for demo phase: {demo_phase}", extra={"request_id": request_id})
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1489, in info
    self._log(INFO, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1632, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1606, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'request_id' in LogRecord"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py", line 65, in dispatch
    logger.exception(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1524, in exception
    self.error(msg, *args, exc_info=exc_info, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1632, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1606, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'request_id' in LogRecord"
2025-03-10 19:46:49,801 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53025 - "GET /api/tables?demo_phase=basic HTTP/1.1" 500
2025-03-10 19:46:49,801 - uvicorn.error - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:413 - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 91, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py", line 40, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py", line 51, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py", line 47, in get_tables
    logger.info(f"Listing tables for demo phase: {demo_phase}", extra={"request_id": request_id})
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1489, in info
    self._log(INFO, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1632, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1606, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'request_id' in LogRecord"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py", line 65, in dispatch
    logger.exception(
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1524, in exception
    self.error(msg, *args, exc_info=exc_info, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1518, in error
    self._log(ERROR, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1632, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1606, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'request_id' in LogRecord"
2025-03-10 19:47:51,845 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 19:47:51,947 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 19:47:51,948 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 19:47:51,948 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [87799]
2025-03-10 19:47:54,284 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 19:47:54,285 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 19:47:54,291 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [88782]
2025-03-10 19:47:54,292 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 19:47:54,292 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 19:48:01,866 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 19:48:01,967 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 19:48:01,967 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 19:48:01,968 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [88782]
2025-03-10 19:48:04,543 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 19:48:04,543 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 19:48:04,550 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [88962]
2025-03-10 19:48:04,550 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 19:48:04,550 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 19:48:51,736 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 19:48:51,843 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 19:48:51,844 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 19:48:51,845 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [88962]
2025-03-10 19:49:07,913 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 19:49:07,913 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 19:49:07,921 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [89879]
2025-03-10 19:49:07,921 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 19:49:07,921 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 19:49:17,117 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 19:49:17,220 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 19:49:17,220 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 19:49:17,220 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [89879]
2025-03-10 19:49:47,983 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 19:49:47,983 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 19:49:47,989 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [90459]
2025-03-10 19:49:47,989 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 19:49:47,990 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 19:49:58,507 - app.core.logging_config - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:64 - Request failed: GET /api/tables
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 91, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py", line 40, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py", line 51, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py", line 47, in get_tables
    logger.info(f"Listing tables for demo phase: {demo_phase}", extra={"request_id": request_id})
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1489, in info
    self._log(INFO, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1632, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1606, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'request_id' in LogRecord"
2025-03-10 19:49:58,533 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53234 - "GET /api/tables?demo_phase=basic HTTP/1.1" 500
2025-03-10 19:49:58,533 - uvicorn.error - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:413 - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 91, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py", line 40, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py", line 51, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py", line 47, in get_tables
    logger.info(f"Listing tables for demo phase: {demo_phase}", extra={"request_id": request_id})
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1489, in info
    self._log(INFO, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1632, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1606, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'request_id' in LogRecord"
2025-03-10 19:49:58,539 - app.core.logging_config - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:64 - Request failed: GET /api/tables
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 91, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py", line 40, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py", line 51, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py", line 47, in get_tables
    logger.info(f"Listing tables for demo phase: {demo_phase}", extra={"request_id": request_id})
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1489, in info
    self._log(INFO, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1632, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1606, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'request_id' in LogRecord"
2025-03-10 19:49:58,542 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:53238 - "GET /api/tables?demo_phase=basic HTTP/1.1" 500
2025-03-10 19:49:58,542 - uvicorn.error - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:413 - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/anyio/streams/memory.py", line 91, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 91, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/cors.py", line 146, in simple_response
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py", line 40, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py", line 51, in wrapper
    result = await func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py", line 47, in get_tables
    logger.info(f"Listing tables for demo phase: {demo_phase}", extra={"request_id": request_id})
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1489, in info
    self._log(INFO, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1632, in _log
    record = self.makeRecord(self.name, level, fn, lno, msg, args,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/logging/__init__.py", line 1606, in makeRecord
    raise KeyError("Attempt to overwrite %r in LogRecord" % key)
KeyError: "Attempt to overwrite 'request_id' in LogRecord"
2025-03-10 19:50:10,275 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 19:50:10,378 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 19:50:10,378 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 19:50:10,379 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [90459]
2025-03-10 19:53:39,943 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 19:53:39,943 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 19:53:39,950 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [93672]
2025-03-10 19:53:39,950 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 19:53:39,950 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 19:53:51,795 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:47 - Listing tables for demo phase: basic
2025-03-10 19:53:51,795 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 19:53:51,795 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 19:53:51,796 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-10 19:53:51,797 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-10 19:53:51,797 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-10 19:53:51,867 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-10 19:53:52,017 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-10 19:53:52,076 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-10 19:53:52,412 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 19:53:52,416 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 621.18ms
2025-03-10 19:53:52,416 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 19:53:52,417 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 621.73ms
2025-03-10 19:53:52,417 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:51 - Found 20 tables
2025-03-10 19:53:52,417 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 622.23ms
2025-03-10 19:53:52,419 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 19:53:52,419 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:54172 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-10 19:53:52,426 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:47 - Listing tables for demo phase: basic
2025-03-10 19:53:52,426 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 19:53:52,426 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 19:53:52,793 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 19:53:52,795 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 368.76ms
2025-03-10 19:53:52,795 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 19:53:52,795 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 369.44ms
2025-03-10 19:53:52,795 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:51 - Found 20 tables
2025-03-10 19:53:52,796 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 369.94ms
2025-03-10 19:53:52,797 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 19:53:52,797 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:54172 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-10 19:53:55,254 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:66 - Getting schema for table: accident, demo phase: basic
2025-03-10 19:53:55,254 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-10 19:53:55,255 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 19:53:55,568 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 19:53:55,584 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 329.64ms
2025-03-10 19:53:55,584 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-10 19:53:55,585 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 330.11ms
2025-03-10 19:53:55,585 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:71 - Schema retrieved with 54 columns
2025-03-10 19:53:55,585 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 330.54ms
2025-03-10 19:53:55,585 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-10 19:53:55,586 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:54172 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-10 19:54:02,254 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 19:54:02,355 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 19:54:02,355 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 19:54:02,356 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [93672]
2025-03-10 20:30:33,975 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 20:30:33,976 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 20:30:33,986 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [98745]
2025-03-10 20:30:33,986 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 20:30:33,987 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 20:30:47,158 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:47 - Listing tables for demo phase: basic
2025-03-10 20:30:47,162 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 20:30:47,164 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:30:47,165 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-10 20:30:47,166 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-10 20:30:47,167 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-10 20:30:47,272 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-10 20:30:47,547 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-10 20:30:47,577 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-10 20:30:47,929 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:30:47,953 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 789.11ms
2025-03-10 20:30:47,953 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 20:30:47,953 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 791.71ms
2025-03-10 20:30:47,954 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:51 - Found 20 tables
2025-03-10 20:30:47,954 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 795.30ms
2025-03-10 20:30:47,961 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 20:30:47,962 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:54645 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:30:47,963 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:47 - Listing tables for demo phase: basic
2025-03-10 20:30:47,964 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 20:30:47,964 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:30:48,303 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:30:48,305 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 341.36ms
2025-03-10 20:30:48,305 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 20:30:48,305 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 341.75ms
2025-03-10 20:30:48,305 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:51 - Found 20 tables
2025-03-10 20:30:48,305 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 342.15ms
2025-03-10 20:30:48,309 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 20:30:48,310 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:54652 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:30:50,768 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:66 - Getting schema for table: accident, demo phase: basic
2025-03-10 20:30:50,776 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-10 20:30:50,777 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:30:51,089 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:30:51,093 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 316.67ms
2025-03-10 20:30:51,094 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-10 20:30:51,094 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 317.64ms
2025-03-10 20:30:51,094 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:71 - Schema retrieved with 54 columns
2025-03-10 20:30:51,094 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 325.62ms
2025-03-10 20:30:51,095 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-10 20:30:51,095 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:54660 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:30:54,864 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:54683 - "OPTIONS /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:30:54,870 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:140 - Basic NL2SQL request for table: accident
2025-03-10 20:30:54,870 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:142 - Question: How many accidents
2025-03-10 20:30:54,870 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-10 20:30:54,871 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:30:55,141 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:30:55,143 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 272.70ms
2025-03-10 20:30:55,143 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-10 20:30:55,143 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 273.26ms
2025-03-10 20:30:55,144 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: basic
2025-03-10 20:30:55,144 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:30:56,624 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:30:56,920 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/db979e36-6431-40b3-885e-a6ab45efab3d?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:30:57,207 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/db979e36-6431-40b3-885e-a6ab45efab3d?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:30:57,213 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 2069.25ms
2025-03-10 20:30:57,213 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-10 20:30:57,213 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 2069.65ms
2025-03-10 20:30:57,213 - app.api.routes - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:172 - Failed to generate SQL from question: generate_basic_sql() got an unexpected keyword argument 'table_name'
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py", line 152, in basic_nl2sql
    response = await generate_basic_sql(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py", line 51, in wrapper
    result = await func(*args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^
TypeError: generate_basic_sql() got an unexpected keyword argument 'table_name'
2025-03-10 20:30:57,216 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 20:30:57,216 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/basic
2025-03-10 20:30:57,216 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:54683 - "POST /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 500
2025-03-10 20:30:57,317 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 20:30:57,319 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 20:30:57,319 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [98745]
2025-03-10 20:36:19,271 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 20:36:19,271 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 20:36:19,279 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [5926]
2025-03-10 20:36:19,279 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 20:36:19,279 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 20:36:31,268 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:47 - Listing tables for demo phase: basic
2025-03-10 20:36:31,269 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 20:36:31,269 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:36:31,270 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-10 20:36:31,276 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-10 20:36:31,277 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-10 20:36:31,319 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-10 20:36:31,471 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-10 20:36:31,491 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-10 20:36:31,852 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:36:31,864 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 594.32ms
2025-03-10 20:36:31,864 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 20:36:31,866 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 597.47ms
2025-03-10 20:36:31,866 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:51 - Found 20 tables
2025-03-10 20:36:31,867 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 598.96ms
2025-03-10 20:36:31,870 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 20:36:31,871 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55133 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:36:31,874 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:47 - Listing tables for demo phase: basic
2025-03-10 20:36:31,874 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 20:36:31,874 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:36:32,151 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:36:32,152 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 277.51ms
2025-03-10 20:36:32,152 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 20:36:32,152 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 277.81ms
2025-03-10 20:36:32,152 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:51 - Found 20 tables
2025-03-10 20:36:32,152 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 278.08ms
2025-03-10 20:36:32,152 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 20:36:32,152 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55139 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:36:41,553 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 20:36:41,655 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 20:36:41,656 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 20:36:41,656 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [5926]
2025-03-10 20:38:51,110 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 20:38:51,111 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 20:38:51,119 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [8051]
2025-03-10 20:38:51,119 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 20:38:51,120 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 20:39:00,884 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:47 - Listing tables for demo phase: basic
2025-03-10 20:39:00,885 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 20:39:00,885 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:39:00,886 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-10 20:39:00,887 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-10 20:39:00,888 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-10 20:39:00,910 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-10 20:39:01,019 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-10 20:39:01,022 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-10 20:39:01,384 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:39:01,385 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 499.63ms
2025-03-10 20:39:01,385 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 20:39:01,385 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 500.33ms
2025-03-10 20:39:01,385 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:51 - Found 20 tables
2025-03-10 20:39:01,385 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 501.35ms
2025-03-10 20:39:01,386 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 20:39:01,386 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55314 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:39:01,391 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:47 - Listing tables for demo phase: basic
2025-03-10 20:39:01,391 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 20:39:01,391 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:39:01,671 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:39:01,673 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 282.10ms
2025-03-10 20:39:01,673 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 20:39:01,674 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 282.44ms
2025-03-10 20:39:01,674 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:51 - Found 20 tables
2025-03-10 20:39:01,674 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 282.74ms
2025-03-10 20:39:01,674 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 20:39:01,674 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55314 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:39:03,381 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:66 - Getting schema for table: accident, demo phase: basic
2025-03-10 20:39:03,381 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-10 20:39:03,381 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:39:03,657 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:39:03,659 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 277.34ms
2025-03-10 20:39:03,659 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-10 20:39:03,659 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 277.70ms
2025-03-10 20:39:03,659 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:71 - Schema retrieved with 54 columns
2025-03-10 20:39:03,659 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 277.97ms
2025-03-10 20:39:03,659 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-10 20:39:03,660 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55314 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:39:06,604 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:140 - Basic NL2SQL request for table: accident
2025-03-10 20:39:06,604 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:142 - Question: How many accidents
2025-03-10 20:39:06,604 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-10 20:39:06,604 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:39:06,881 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:39:06,882 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 277.55ms
2025-03-10 20:39:06,882 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-10 20:39:06,882 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 277.98ms
2025-03-10 20:39:06,882 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: basic
2025-03-10 20:39:06,882 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:39:07,936 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:39:08,315 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/d7c5ee49-40ba-4deb-87ab-807c47d87952?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:39:08,625 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/d7c5ee49-40ba-4deb-87ab-807c47d87952?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:39:08,629 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1746.45ms
2025-03-10 20:39:08,629 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-10 20:39:08,629 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1747.04ms
2025-03-10 20:39:08,629 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:174 - Generating basic SQL for question: How many accidents
2025-03-10 20:39:08,629 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:177 - Using mock response for basic SQL generation
2025-03-10 20:39:09,630 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_basic_sql executed in 1000.75ms
2025-03-10 20:39:09,630 - app.api.routes - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:170 - Failed to generate SQL from question: name 'add_to_query_history' is not defined
Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py", line 158, in basic_nl2sql
    add_to_query_history(
    ^^^^^^^^^^^^^^^^^^^^
NameError: name 'add_to_query_history' is not defined
2025-03-10 20:39:09,632 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/basic
2025-03-10 20:39:09,633 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55325 - "POST /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 500
2025-03-10 20:39:17,512 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 20:39:17,613 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 20:39:17,614 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 20:39:17,614 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [8051]
2025-03-10 20:39:20,205 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 20:39:20,205 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 20:39:20,212 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [8459]
2025-03-10 20:39:20,212 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 20:39:20,212 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 20:40:06,299 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 20:40:06,401 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 20:40:06,402 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 20:40:06,402 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [8459]
2025-03-10 20:40:08,993 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 20:40:08,993 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 20:40:09,000 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [9080]
2025-03-10 20:40:09,000 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 20:40:09,000 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 20:42:12,731 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 20:42:12,834 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 20:42:12,837 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 20:42:12,837 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [9080]
2025-03-10 20:42:17,400 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 20:42:17,400 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 20:42:17,408 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [10786]
2025-03-10 20:42:17,408 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 20:42:17,408 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 20:42:27,730 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-10 20:42:27,832 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:65 - Waiting for application shutdown.
2025-03-10 20:42:27,833 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:76 - Application shutdown complete.
2025-03-10 20:42:27,833 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [10786]
2025-03-10 20:42:59,642 - app.core.logging_config - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/core/logging_config.py:167 - Logging configured successfully
2025-03-10 20:42:59,642 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:17 - Starting NL2SQL Agent Demo v1.0.0
2025-03-10 20:42:59,649 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:76 - Started server process [11356]
2025-03-10 20:42:59,650 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:46 - Waiting for application startup.
2025-03-10 20:42:59,650 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:60 - Application startup complete.
2025-03-10 20:43:09,330 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-10 20:43:09,332 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 20:43:09,333 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:43:09,334 - google.cloud.bigquery.opentelemetry_tracing - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/cloud/bigquery/opentelemetry_tracing.py:66 - This service is instrumented using OpenTelemetry. OpenTelemetry or one of its components could not be imported; please add compatible versions of opentelemetry-api and opentelemetry-instrumentation packages in order to get BigQuery Tracing data.
2025-03-10 20:43:09,335 - urllib3.util.retry - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/util/retry.py:286 - Converted retries value: 3 -> Retry(total=3, connect=None, read=None, redirect=None, status=None)
2025-03-10 20:43:09,336 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-10 20:43:09,511 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): oauth2.googleapis.com:443
2025-03-10 20:43:09,756 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-10 20:43:09,778 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:1049 - Starting new HTTPS connection (1): bigquery.googleapis.com:443
2025-03-10 20:43:10,145 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:43:10,145 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 812.52ms
2025-03-10 20:43:10,145 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 20:43:10,146 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 813.54ms
2025-03-10 20:43:10,146 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-10 20:43:10,146 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 817.65ms
2025-03-10 20:43:10,146 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 20:43:10,147 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55615 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-10 20:43:10,148 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-10 20:43:10,149 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-10 20:43:10,149 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-10 20:43:10,435 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-10 20:43:10,435 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 286.82ms
2025-03-10 20:43:10,436 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-10 20:43:10,436 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 287.16ms
2025-03-10 20:43:10,436 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-10 20:43:10,436 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 287.41ms
2025-03-10 20:43:10,436 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-10 20:43:10,436 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:55621 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 08:56:36,234 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: cevent, demo phase: basic
2025-03-11 08:56:36,250 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table cevent in demo phase: basic
2025-03-11 08:56:36,252 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 08:56:36,274 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 08:56:36,351 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:289 - Resetting dropped connection: oauth2.googleapis.com
2025-03-11 08:56:36,624 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 08:56:36,673 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:289 - Resetting dropped connection: bigquery.googleapis.com
2025-03-11 08:56:37,143 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/cevent?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:56:37,151 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 899.49ms
2025-03-11 08:56:37,152 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table cevent with 10 columns
2025-03-11 08:56:37,152 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 902.01ms
2025-03-11 08:56:37,152 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 10 columns
2025-03-11 08:56:37,152 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 921.30ms
2025-03-11 08:56:37,156 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/cevent/schema
2025-03-11 08:56:37,156 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57968 - "GET /api/tables/cevent/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 08:56:44,126 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 08:56:44,127 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 08:56:44,127 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 08:56:44,552 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:56:44,557 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 430.09ms
2025-03-11 08:56:44,557 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:56:44,557 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 430.58ms
2025-03-11 08:56:44,557 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:56:44,558 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 431.14ms
2025-03-11 08:56:44,558 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:56:44,558 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57980 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 08:56:44,560 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 08:56:44,560 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 08:56:44,560 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 08:56:44,884 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:56:44,885 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 325.07ms
2025-03-11 08:56:44,885 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:56:44,885 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 325.38ms
2025-03-11 08:56:44,885 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:56:44,885 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 325.64ms
2025-03-11 08:56:44,886 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:56:44,886 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:57980 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 08:56:48,807 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 08:56:48,811 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 08:56:48,812 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 08:56:49,201 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:56:49,202 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 390.42ms
2025-03-11 08:56:49,202 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:56:49,202 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 391.56ms
2025-03-11 08:56:49,202 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:56:49,202 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 397.08ms
2025-03-11 08:56:49,203 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:56:49,203 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58009 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 08:56:49,211 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 08:56:49,211 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 0 history items
2025-03-11 08:56:49,211 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.22ms
2025-03-11 08:56:49,211 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 08:56:49,212 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58011 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 08:56:49,212 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 08:56:49,212 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 08:56:49,213 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 08:56:49,554 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:56:49,555 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 342.38ms
2025-03-11 08:56:49,555 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:56:49,555 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 342.67ms
2025-03-11 08:56:49,555 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:56:49,555 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 342.91ms
2025-03-11 08:56:49,556 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 08:56:49,556 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 0 history items
2025-03-11 08:56:49,557 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.25ms
2025-03-11 08:56:49,557 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:56:49,558 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58009 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 08:56:49,558 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 08:56:49,558 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58014 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 08:57:41,874 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 08:57:41,875 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 08:57:41,875 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 08:57:42,133 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:57:42,135 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 259.50ms
2025-03-11 08:57:42,135 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:57:42,135 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 260.17ms
2025-03-11 08:57:42,135 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:57:42,135 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 261.16ms
2025-03-11 08:57:42,137 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:57:42,137 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58129 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 08:57:42,138 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 08:57:42,138 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 08:57:42,139 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 08:57:42,572 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:57:42,573 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 434.03ms
2025-03-11 08:57:42,573 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:57:42,573 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 434.45ms
2025-03-11 08:57:42,573 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:57:42,573 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 434.67ms
2025-03-11 08:57:42,573 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:57:42,573 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58131 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 08:57:42,633 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 08:57:42,634 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 08:57:42,634 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 08:57:42,882 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:57:42,882 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 248.51ms
2025-03-11 08:57:42,883 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:57:42,883 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 249.01ms
2025-03-11 08:57:42,883 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:57:42,883 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 249.65ms
2025-03-11 08:57:42,883 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:57:42,883 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58131 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 08:57:42,885 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 08:57:42,885 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 08:57:42,885 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 08:57:43,214 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:57:43,214 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 329.42ms
2025-03-11 08:57:43,214 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:57:43,215 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 329.75ms
2025-03-11 08:57:43,215 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:57:43,215 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 330.04ms
2025-03-11 08:57:43,215 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:57:43,216 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 08:57:43,216 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 08:57:43,216 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 08:57:43,563 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:57:43,563 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 347.46ms
2025-03-11 08:57:43,564 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:57:43,564 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 347.75ms
2025-03-11 08:57:43,564 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:57:43,564 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 347.95ms
2025-03-11 08:57:43,564 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58129 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 08:57:43,565 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:57:43,565 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 08:57:43,566 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 0 history items
2025-03-11 08:57:43,566 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.20ms
2025-03-11 08:57:43,566 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58131 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 08:57:43,566 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 08:57:43,566 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58133 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 08:57:43,567 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 08:57:43,567 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 08:57:43,567 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 08:57:43,806 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 08:57:43,807 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 239.20ms
2025-03-11 08:57:43,807 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 08:57:43,807 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 239.51ms
2025-03-11 08:57:43,807 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 08:57:43,807 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 239.73ms
2025-03-11 08:57:43,807 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 08:57:43,807 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 0 history items
2025-03-11 08:57:43,808 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.13ms
2025-03-11 08:57:43,808 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 08:57:43,808 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58129 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 08:57:43,808 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 08:57:43,808 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:58131 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 11:41:05,811 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 11:41:05,815 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 11:41:05,816 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 11:41:05,840 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 11:41:05,908 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:289 - Resetting dropped connection: oauth2.googleapis.com
2025-03-11 11:41:06,094 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 11:41:06,146 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:289 - Resetting dropped connection: bigquery.googleapis.com
2025-03-11 11:41:06,610 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 11:41:06,614 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 798.31ms
2025-03-11 11:41:06,615 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 11:41:06,615 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 799.46ms
2025-03-11 11:41:06,615 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 11:41:06,615 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 804.63ms
2025-03-11 11:41:06,620 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 11:41:06,620 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:65349 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 11:41:06,622 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 11:41:06,622 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 11:41:06,622 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 11:41:06,889 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 11:41:06,890 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 267.29ms
2025-03-11 11:41:06,890 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 11:41:06,890 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 267.59ms
2025-03-11 11:41:06,890 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 11:41:06,890 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 267.84ms
2025-03-11 11:41:06,891 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 11:41:06,891 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:65353 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 11:41:07,650 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: car_statistcs, demo phase: basic
2025-03-11 11:41:07,650 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: basic
2025-03-11 11:41:07,650 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 11:41:07,942 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/car_statistcs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 11:41:07,949 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 298.77ms
2025-03-11 11:41:07,949 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 11:41:07,950 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 299.66ms
2025-03-11 11:41:07,950 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 5 columns
2025-03-11 11:41:07,950 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 299.99ms
2025-03-11 11:41:07,950 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/car_statistcs/schema
2025-03-11 11:41:07,951 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:65353 - "GET /api/tables/car_statistcs/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 11:41:10,348 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:65360 - "OPTIONS /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-11 11:41:10,358 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:161 - Basic NL2SQL request for table: car_statistcs
2025-03-11 11:41:10,358 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:163 - Question: dupa
2025-03-11 11:41:10,358 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table car_statistcs in demo phase: basic
2025-03-11 11:41:10,358 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 11:41:10,662 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/car_statistcs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 11:41:10,663 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 304.56ms
2025-03-11 11:41:10,663 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table car_statistcs with 5 columns
2025-03-11 11:41:10,663 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 305.07ms
2025-03-11 11:41:10,663 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table car_statistcs (size: 5) in demo phase: basic
2025-03-11 11:41:10,664 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 11:41:11,527 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 11:41:11,849 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/0f8018b4-5e36-4c44-aa7a-4813834439ed?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 11:41:12,139 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/0f8018b4-5e36-4c44-aa7a-4813834439ed?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 11:41:12,143 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1479.57ms
2025-03-11 11:41:12,143 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table car_statistcs
2025-03-11 11:41:12,144 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1480.85ms
2025-03-11 11:41:12,145 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:174 - Generating basic SQL for question: dupa
2025-03-11 11:41:12,145 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:177 - Using mock response for basic SQL generation
2025-03-11 11:41:13,147 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_basic_sql executed in 1002.04ms
2025-03-11 11:41:13,148 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: dupa...
2025-03-11 11:41:13,148 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:186 - Generated SQL query with length 28
2025-03-11 11:41:13,148 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.basic_nl2sql executed in 2790.67ms
2025-03-11 11:41:13,149 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/basic
2025-03-11 11:41:13,150 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:65360 - "POST /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-11 12:58:02,529 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: damage, demo phase: basic
2025-03-11 12:58:02,532 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: basic
2025-03-11 12:58:02,534 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 12:58:02,547 - google.auth.transport.requests - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/google/auth/transport/requests.py:185 - Making request: POST https://oauth2.googleapis.com/token
2025-03-11 12:58:02,618 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:289 - Resetting dropped connection: oauth2.googleapis.com
2025-03-11 12:58:02,775 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://oauth2.googleapis.com:443 "POST /token HTTP/1.1" 200 None
2025-03-11 12:58:03,860 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:289 - Resetting dropped connection: bigquery.googleapis.com
2025-03-11 12:58:04,232 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/damage?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 12:58:04,237 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 1703.20ms
2025-03-11 12:58:04,237 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 12:58:04,238 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 1705.50ms
2025-03-11 12:58:04,238 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 12:58:04,238 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 1709.45ms
2025-03-11 12:58:04,241 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/damage/schema
2025-03-11 12:58:04,241 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51738 - "GET /api/tables/damage/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 12:58:04,262 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51741 - "OPTIONS /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-11 12:58:04,269 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:161 - Basic NL2SQL request for table: damage
2025-03-11 12:58:04,269 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:163 - Question: dupa
2025-03-11 12:58:04,269 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: basic
2025-03-11 12:58:04,269 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 12:58:04,566 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/damage?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 12:58:04,568 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 298.65ms
2025-03-11 12:58:04,568 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 12:58:04,568 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 299.07ms
2025-03-11 12:58:04,568 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table damage (size: 5) in demo phase: basic
2025-03-11 12:58:04,568 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 12:58:05,377 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 12:58:05,661 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/164efaf1-2bd5-4bd5-9dce-2ab7959c7b24?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 12:58:05,968 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/164efaf1-2bd5-4bd5-9dce-2ab7959c7b24?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 12:58:05,980 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1411.51ms
2025-03-11 12:58:05,980 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table damage
2025-03-11 12:58:05,981 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1412.38ms
2025-03-11 12:58:05,981 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:174 - Generating basic SQL for question: dupa
2025-03-11 12:58:05,981 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:177 - Using mock response for basic SQL generation
2025-03-11 12:58:06,982 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_basic_sql executed in 1001.65ms
2025-03-11 12:58:06,983 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: dupa...
2025-03-11 12:58:06,983 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:186 - Generated SQL query with length 28
2025-03-11 12:58:06,983 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.basic_nl2sql executed in 2714.05ms
2025-03-11 12:58:06,983 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/basic
2025-03-11 12:58:06,983 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:51741 - "POST /api/nl2sql/basic?demo_phase=basic HTTP/1.1" 200
2025-03-11 13:14:33,530 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 13:14:33,534 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 13:14:33,535 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:14:33,650 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:289 - Resetting dropped connection: bigquery.googleapis.com
2025-03-11 13:14:36,051 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:36,055 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 2519.82ms
2025-03-11 13:14:36,055 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:36,055 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 2521.10ms
2025-03-11 13:14:36,055 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:36,055 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 2525.91ms
2025-03-11 13:14:36,057 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:36,057 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52598 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:14:36,060 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 13:14:36,060 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 13:14:36,060 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:14:36,324 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:36,325 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 264.59ms
2025-03-11 13:14:36,325 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:36,325 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 264.89ms
2025-03-11 13:14:36,325 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:36,325 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 265.13ms
2025-03-11 13:14:36,325 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:36,326 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52598 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:14:36,667 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 13:14:36,668 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 13:14:36,668 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 13:14:37,075 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:37,076 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 408.55ms
2025-03-11 13:14:37,076 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:37,076 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 408.90ms
2025-03-11 13:14:37,077 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:37,077 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 409.21ms
2025-03-11 13:14:37,077 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:37,077 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52598 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 13:14:37,078 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 13:14:37,078 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 13:14:37,078 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 13:14:37,397 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:37,398 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 319.74ms
2025-03-11 13:14:37,398 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:37,398 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 320.06ms
2025-03-11 13:14:37,398 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:37,398 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 320.29ms
2025-03-11 13:14:37,399 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:37,399 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52605 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 13:14:39,303 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 13:14:39,303 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 13:14:39,303 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:14:39,614 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:39,615 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 311.34ms
2025-03-11 13:14:39,615 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:39,615 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 311.78ms
2025-03-11 13:14:39,615 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:39,615 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 312.38ms
2025-03-11 13:14:39,615 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:39,616 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52605 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:14:39,617 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 13:14:39,617 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 13:14:39,617 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:14:39,943 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:39,944 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 326.46ms
2025-03-11 13:14:39,944 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:39,944 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 326.81ms
2025-03-11 13:14:39,944 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:39,944 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 327.08ms
2025-03-11 13:14:39,944 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:39,945 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52607 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:14:42,051 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: damage, demo phase: enhanced
2025-03-11 13:14:42,051 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table damage in demo phase: enhanced
2025-03-11 13:14:42,052 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:14:42,328 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/damage?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:42,330 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 278.56ms
2025-03-11 13:14:42,330 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table damage with 6 columns
2025-03-11 13:14:42,331 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 279.12ms
2025-03-11 13:14:42,331 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 6 columns
2025-03-11 13:14:42,331 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 279.81ms
2025-03-11 13:14:42,332 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/damage/schema
2025-03-11 13:14:42,332 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52607 - "GET /api/tables/damage/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:14:48,062 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 13:14:48,063 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 13:14:48,063 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 13:14:48,377 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:48,378 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 314.68ms
2025-03-11 13:14:48,378 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:48,378 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 315.22ms
2025-03-11 13:14:48,378 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:48,378 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 315.81ms
2025-03-11 13:14:48,383 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 13:14:48,383 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 2 history items
2025-03-11 13:14:48,383 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.26ms
2025-03-11 13:14:48,386 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:48,386 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 13:14:48,387 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52616 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 13:14:48,387 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52618 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 13:14:48,388 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: agent
2025-03-11 13:14:48,388 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: agent
2025-03-11 13:14:48,388 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: agent
2025-03-11 13:14:48,750 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:48,750 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 361.81ms
2025-03-11 13:14:48,750 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:48,750 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 362.09ms
2025-03-11 13:14:48,750 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:48,750 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 362.30ms
2025-03-11 13:14:48,751 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:308 - Getting query history
2025-03-11 13:14:48,751 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:312 - Retrieved 2 history items
2025-03-11 13:14:48,751 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_query_history executed in 0.09ms
2025-03-11 13:14:48,751 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:48,751 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52616 - "GET /api/tables?demo_phase=agent HTTP/1.1" 200
2025-03-11 13:14:48,752 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/history
2025-03-11 13:14:48,752 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52621 - "GET /api/history?limit=10 HTTP/1.1" 200
2025-03-11 13:14:49,394 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 13:14:49,394 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 13:14:49,394 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 13:14:49,740 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:49,741 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 347.11ms
2025-03-11 13:14:49,741 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:49,741 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 347.47ms
2025-03-11 13:14:49,742 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:49,742 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 347.94ms
2025-03-11 13:14:49,742 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:49,742 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52621 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 13:14:49,743 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: basic
2025-03-11 13:14:49,743 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: basic
2025-03-11 13:14:49,743 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 13:14:50,051 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:50,052 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 308.72ms
2025-03-11 13:14:50,052 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:50,052 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 309.33ms
2025-03-11 13:14:50,052 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:50,052 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 309.55ms
2025-03-11 13:14:50,053 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:50,053 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52616 - "GET /api/tables?demo_phase=basic HTTP/1.1" 200
2025-03-11 13:14:52,277 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: basic
2025-03-11 13:14:52,277 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: basic
2025-03-11 13:14:52,278 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: basic
2025-03-11 13:14:52,641 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:52,642 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 364.44ms
2025-03-11 13:14:52,642 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 13:14:52,642 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 364.82ms
2025-03-11 13:14:52,642 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 13:14:52,642 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 365.14ms
2025-03-11 13:14:52,643 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 13:14:52,643 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52625 - "GET /api/tables/accident/schema?demo_phase=basic HTTP/1.1" 200
2025-03-11 13:14:53,602 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 13:14:53,602 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 13:14:53,602 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:14:53,882 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:53,883 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 280.50ms
2025-03-11 13:14:53,883 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:53,883 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 280.92ms
2025-03-11 13:14:53,883 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:53,883 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 281.28ms
2025-03-11 13:14:53,884 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:53,884 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52625 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:14:53,885 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:68 - Listing tables for demo phase: enhanced
2025-03-11 13:14:53,885 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:179 - Listing tables for demo phase: enhanced
2025-03-11 13:14:53,885 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:14:54,160 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:54,161 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_list_tables' completed in 275.87ms
2025-03-11 13:14:54,161 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:192 - Found 20 tables in dataset car_crashes
2025-03-11 13:14:54,161 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.list_tables executed in 276.30ms
2025-03-11 13:14:54,161 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:72 - Found 20 tables
2025-03-11 13:14:54,161 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_tables executed in 276.62ms
2025-03-11 13:14:54,162 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables
2025-03-11 13:14:54,163 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52627 - "GET /api/tables?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:14:55,651 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:87 - Getting schema for table: accident, demo phase: enhanced
2025-03-11 13:14:55,651 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 13:14:55,651 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:14:55,922 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:14:55,923 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 272.11ms
2025-03-11 13:14:55,923 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 13:14:55,924 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 272.41ms
2025-03-11 13:14:55,924 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:92 - Schema retrieved with 54 columns
2025-03-11 13:14:55,924 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.get_schema executed in 272.68ms
2025-03-11 13:14:55,924 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: GET /api/tables/accident/schema
2025-03-11 13:14:55,924 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52627 - "GET /api/tables/accident/schema?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:15:11,273 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52641 - "OPTIONS /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:15:11,278 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:206 - Enhanced NL2SQL request for table: accident
2025-03-11 13:15:11,279 - app.api.routes - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:208 - Question: count
2025-03-11 13:15:11,279 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:210 - Getting schema for table accident in demo phase: enhanced
2025-03-11 13:15:11,279 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:15:11,633 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/datasets/car_crashes/tables/accident?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:15:11,634 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_table_schema' completed in 355.25ms
2025-03-11 13:15:11,634 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:230 - Retrieved schema for table accident with 54 columns
2025-03-11 13:15:11,634 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_table_schema executed in 355.72ms
2025-03-11 13:15:11,635 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:253 - Getting data sample for table accident (size: 5) in demo phase: enhanced
2025-03-11 13:15:11,635 - app.services.bigquery_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:156 - Getting dataset for demo phase: enhanced
2025-03-11 13:15:12,242 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "POST /bigquery/v2/projects/jsk-dataplex-demo-380508/jobs?prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:15:12,522 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/1207bf9e-ad06-43a7-911c-bbd989e6d1cc?maxResults=0&location=US&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:15:12,806 - urllib3.connectionpool - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/urllib3/connectionpool.py:544 - https://bigquery.googleapis.com:443 "GET /bigquery/v2/projects/jsk-dataplex-demo-380508/queries/1207bf9e-ad06-43a7-911c-bbd989e6d1cc?fields=jobReference%2CtotalRows%2CpageToken%2Crows&location=US&formatOptions.useInt64Timestamp=True&prettyPrint=false HTTP/1.1" 200 None
2025-03-11 13:15:12,811 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:108 - Operation 'bigquery_get_data_sample' completed in 1176.10ms
2025-03-11 13:15:12,811 - app.services.bigquery_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/bigquery_service.py:302 - Retrieved 5 sample rows from table accident
2025-03-11 13:15:12,812 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:29 - Function app.services.bigquery_service.get_data_sample executed in 1177.54ms
2025-03-11 13:15:12,812 - app.services.nl2sql_service - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:275 - Generating enhanced SQL for question: count
2025-03-11 13:15:12,813 - app.services.nl2sql_service - DEBUG - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/services/nl2sql_service.py:278 - Using mock response for enhanced SQL generation
2025-03-11 13:15:14,314 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.services.nl2sql_service.generate_enhanced_sql executed in 1502.06ms
2025-03-11 13:15:14,315 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:49 - Added query to history: count...
2025-03-11 13:15:14,315 - app.api.routes - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/api/routes.py:236 - Generated SQL query with length 122
2025-03-11 13:15:14,342 - app.utils.performance - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/utils/performance.py:59 - Async function app.api.routes.enhanced_nl2sql executed in 3063.92ms
2025-03-11 13:15:14,343 - app.core.logging_config - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/app/main.py:46 - Request completed: POST /api/nl2sql/enhanced
2025-03-11 13:15:14,343 - uvicorn.access - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py:478 - 127.0.0.1:52641 - "POST /api/nl2sql/enhanced?demo_phase=enhanced HTTP/1.1" 200
2025-03-11 13:37:14,493 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:264 - Shutting down
2025-03-11 13:37:14,605 - uvicorn.error - INFO - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/server.py:86 - Finished server process [11356]
2025-03-11 13:37:14,633 - uvicorn.error - ERROR - /Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py:134 - Traceback (most recent call last):
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/starlette/routing.py", line 686, in lifespan
    await receive()
  File "/Users/jskuratowicz/PersonalProjects/NL2SQL-agent/backend/venv/lib/python3.11/site-packages/uvicorn/lifespan/on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

